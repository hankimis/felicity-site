<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>ì˜¨ë¹„íŠ¸ - êµ­ë‚´ 1ìœ„ ìˆ˜ìˆ˜ë£Œ í˜ì´ë°±, ì•”í˜¸í™”í í”Œë«í¼</title>
  <meta name="description" content="ì˜¨ë¹„íŠ¸ì—ì„œ ì‹¤ì‹œê°„ ì•”í˜¸í™”í ë¶„ì„, ê³ ë˜ ì¶”ì , ê±°ë˜ì†Œ ì •ë³´ë¥¼ ì œê³µí•©ë‹ˆë‹¤. ìµœì‹  ì½”ì¸ ì‹œì¥ ë™í–¥ê³¼ ì•”í˜¸í™”í ë‰´ìŠ¤ë¥¼ í™•ì¸í•˜ì„¸ìš”.">
  <meta name="keywords" content="ì˜¨ë¹„íŠ¸, onbit, ì•”í˜¸í™”í, ë¹„íŠ¸ì½”ì¸, ì½”ì¸, ê±°ë˜ì†Œ, í˜ì´ë°±, ìˆ˜ìˆ˜ë£Œ, ê³ ë˜ì¶”ì , ì•”í˜¸í™”íë¶„ì„, ì½”ì¸ë‰´ìŠ¤, ì˜¨ë¹„íŠ¸ê±°ë˜ì†Œ, ì˜¨ë¹„íŠ¸í˜ì´ë°±, ì˜¨ë¹„íŠ¸ë¶„ì„">
  <meta name="author" content="ì˜¨ë¹„íŠ¸">
  <meta name="robots" content="index, follow">
  <meta property="og:title" content="ì˜¨ë¹„íŠ¸ - êµ­ë‚´ 1ìœ„ ìˆ˜ìˆ˜ë£Œ í˜ì´ë°±, ì•”í˜¸í™”í í”Œë«í¼">
  <meta property="og:description" content="ì˜¨ë¹„íŠ¸ì—ì„œ ì‹¤ì‹œê°„ ì•”í˜¸í™”í ë¶„ì„, ê³ ë˜ ì¶”ì , ê±°ë˜ì†Œ ì •ë³´ë¥¼ ì œê³µí•©ë‹ˆë‹¤.">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://onbit.kr">
  <meta property="og:image" content="/assets/lightlogo.png">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="ì˜¨ë¹„íŠ¸ - êµ­ë‚´ 1ìœ„ ìˆ˜ìˆ˜ë£Œ í˜ì´ë°±, ì•”í˜¸í™”í í”Œë«í¼">
  <meta name="twitter:description" content="ì˜¨ë¹„íŠ¸ì—ì„œ ì‹¤ì‹œê°„ ì•”í˜¸í™”í ë¶„ì„, ê³ ë˜ ì¶”ì , ê±°ë˜ì†Œ ì •ë³´ë¥¼ ì œê³µí•©ë‹ˆë‹¤.">
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebSite",
    "name": "ì˜¨ë¹„íŠ¸",
    "url": "https://onbit.kr",
    "description": "êµ­ë‚´ 1ìœ„ ìˆ˜ìˆ˜ë£Œ í˜ì´ë°±, ì•”í˜¸í™”í í”Œë«í¼",
    "potentialAction": {
      "@type": "SearchAction",
      "target": "https://onbit.kr/search?q={search_term_string}",
      "query-input": "required name=search_term_string"
    }
  }
  </script>
  
  <!-- Preconnect to external domains for faster loading -->
  <link rel="preconnect" href="https://www.gstatic.com">
  <link rel="preconnect" href="https://cdnjs.cloudflare.com">
  <link rel="preconnect" href="https://cdn.jsdelivr.net">
  <link rel="preconnect" href="https://api.binance.com">
  <link rel="preconnect" href="https://s3.tradingview.com">
  <link rel="dns-prefetch" href="https://s3.tradingview.com">

  
  <!-- Critical CSS - Only essential above-the-fold styles -->
  <!-- <link rel="stylesheet" href="asset/css/sidebar.css"> ì‚¬ì´ë“œë°” ë¹„í™œì„±í™”ë¨ -->
      <link rel="stylesheet" href="asset/mvrv-ratio/mvrv-styles.css">
    <link rel="stylesheet" href="asset/taker-cvd/taker-cvd-styles.css">
    <link rel="stylesheet" href="asset/volume-bubble-map/volume-bubble-styles.css">
  <link rel="stylesheet" href="asset/exchange-netflow/exchange-netflow-styles.css">
  <link rel="stylesheet" href="asset/exchange-holdings/exchange-holdings-styles.css">
  <!-- íŒŒíŠ¸ë„ˆ ìŠ¬ë¼ì´ë“œ CSS -->
  <link rel="stylesheet" href="css/pages/partnerslide.css"/>

  <style>
    /* Critical CSS Variables */
    :root {
      --bg-primary: #ffffff;
      --bg-secondary: #f8fafc;
      --text-primary: #1f2937;
      --text-secondary: #6b7280;
      --accent-blue: #3b82f6;
      --primary-color: #3b82f6;
      --border-default: #e2e8f0;
      --shadow-light: rgba(0, 0, 0, 0.08);
    }

    /* ë¼ì´íŠ¸ ëª¨ë“œ */

    [data-theme="dark"] {
      --bg-primary: #1a1a1a;
      --bg-secondary: #2a2a2a;
      --text-primary: #ffffff;
      --text-secondary: #cccccc;
    }

    /* Critical Reset */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Pretendard', -apple-system, BlinkMacSystemFont, sans-serif;
    }

    body {
      background-color: var(--bg-primary);
      color: var(--text-primary);
      transition: background-color 0.3s ease, color 0.3s ease;
      line-height: 1.6;
    }

    /* Critical Loading Animation */
    @keyframes loading {
      0% { background-position: 200% 0; }
      100% { background-position: -200% 0; }
    }

    .loading-skeleton {
      background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
      background-size: 200% 100%;
      animation: loading 1.5s infinite;
    }

    /* Critical Main Banner - UIKit ìŠ¤íƒ€ì¼ */
    .main-banner {
      width: 100%;
      padding: 40px 0 40px;
      background: var(--bg-secondary);
      position: relative;
      overflow: hidden;
    }

    /* ì‚¬ì´ë“œë°” ìˆ¨ê¹€ */
    .sidebar {
      display: none !important;
    }

    /* ë©”ì¸ ì»¨í…ì¸  ì„¹ì…˜ ìŠ¤íƒ€ì¼ */
    .main-content-section {
      width: 100%; /* ì „ì²´ ë„ˆë¹„ ì‚¬ìš© */
      margin-left: 0; /* ì‚¬ì´ë“œë°” ì—¬ë°± ì œê±° */
      background: var(--bg-primary);
    }

    .content-container {
      width: 100%;
      max-width: 1600px; /* ìµœëŒ€ ë„ˆë¹„ë¥¼ 2000pxë¡œ ë³€ê²½ */
      margin: 0 auto; /* ì¤‘ì•™ ì •ë ¬ */
      padding: 20px;
    }

    .dashboard-section {
      padding: 20px 0;
    }

    .main-dashboard-grid {
      display: grid;
      grid-template-columns: 2fr 1fr 1fr 1fr;
      gap: 20px;
      height: 400px;
    }

    .dashboard-card {
      background: var(--bg-primary);
      border-radius: 16px;
      padding: 0;
      box-shadow: 0 4px 20px var(--shadow-light);
      overflow: hidden;
    }

    .dashboard-card .card-header {
      margin: 0;
      padding: 15px 20px;
      border-bottom: 1px solid var(--border-default);
    }

    .dashboard-card .card-header h3 {
      font-size: 16px;
      font-weight: 600;
      margin: 0;
      color: var(--text-primary);
      font-family: -apple-system, BlinkMacSystemFont, sans-serif;
    }

    .dashboard-card .card-header p {
      display: none;
    }

    .dashboard-card > div:not(.card-header) {
      flex: 1;
      min-height: 0;
    }



        /* ë°˜ì‘í˜• ë””ìì¸ */
    @media (max-width: 1200px) {
      .main-content-section {
        width: calc(100% - 250px);
      }

      .content-container {
        max-width: 100%;
        padding: 15px;
      }

      .main-dashboard-grid {
        grid-template-columns: 1fr 1fr;
        grid-template-rows: 1fr 1fr;
        height: auto;
        gap: 15px;
      }
      
      .bitcoin-chart-card {
        grid-column: 1 / 3;
        grid-row: 1 / 2;
      }
    }

    @media (max-width: 768px) {
      .main-content-section {
        width: 100% !important;
        margin-left: 0 !important;
      }

      #tradingview-ticker-tape {
        width: 100% !important;
        margin-left: 0 !important;
        margin-top: 0 !important;
      }

      .partner-slider-section {
        width: 100% !important;
        margin-left: 0 !important;
        padding-left: 10px !important;
        padding-right: 10px !important;
      }

      .content-container {
        width: 95%;
        padding: 10px;
      }

      .main-dashboard-grid {
        grid-template-columns: 1fr;
        grid-template-rows: auto;
        height: auto;
        gap: 15px;
      }
      
      .bitcoin-chart-card {
        grid-column: 1;
        grid-row: auto;
      }

      .dashboard-card {
        padding: 0;
      }

      .dashboard-card .card-header {
        padding: 12px 15px;
      }

      .dashboard-card .card-header h3 {
        font-size: 14px;
      }
    }
    
    @keyframes float {
      0%, 100% { transform: translateY(0px); }
      50% { transform: translateY(-10px); }
    }
    
    @keyframes pulse {
      0% { transform: scale(1); }
      50% { transform: scale(1.1); }
      100% { transform: scale(1); }
    }
    </style>
  
  <!-- Index Page Specific CSS -->
  <link rel="stylesheet" href="_testindex.css">

  </style>
  
  <!-- Favicon and icons -->
  <link rel="icon" type="image/png" href="/onbit/favicon-96x96.png" sizes="96x96" />
  <link rel="icon" type="image/svg+xml" href="/onbit/favicon.svg" />
  <link rel="shortcut icon" href="/onbit/favicon.ico" />
  <link rel="apple-touch-icon" sizes="180x180" href="/onbit/apple-touch-icon.png" />
  <link rel="manifest" href="/onbit/site.webmanifest" />
  
  <!-- Load critical CSS files -->
  <link rel="stylesheet" href="css/style.css">
  <link rel="stylesheet" href="css/whale-tracker.css">
  <link rel="stylesheet" href="css/popup-banner.css">
  <link rel="stylesheet" href="auth.css">
  
  <!-- ë©”ì¸í˜ì´ì§€ ì‚¬ì´ë“œë°” CSS ì¶”ê°€ (ë¹„í™œì„±í™”ë¨) -->
  <!-- <link rel="stylesheet" href="asset/css/sidebar.css"> -->
  
  <!-- Card-specific CSS files -->
  <link rel="stylesheet" href="css/cards/trading-charts.css">
  <link rel="stylesheet" href="css/cards/feature-cards.css">
  <link rel="stylesheet" href="css/cards/dominance-cards.css">
  <link rel="stylesheet" href="css/cards/heatmap-section.css">
  
  <!-- Preload critical fonts -->
  <link rel="preload" href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard-dynamic-subset.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
  <noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard-dynamic-subset.css"></noscript>
  
  <!-- Defer Font Awesome -->
  <link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
  <noscript><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"></noscript>

  <!-- TradingView Core Script -->
  <script src="https://s3.tradingview.com/tv.js"></script>
  
  <!-- TradingView Widget Scripts - Preconnect & Preload -->
  <link rel="preconnect" href="https://s3.tradingview.com">
  <link rel="dns-prefetch" href="https://s3.tradingview.com">
  <script>
    // ğŸš€ ìµœì í™”ëœ TradingView ìœ„ì ¯ ì´ˆê¸°í™” ì‹œìŠ¤í…œ
    window.TradingViewManager = {
      widgets: {},
      isInitialized: false,
      
      // ìœ„ì ¯ ì„¤ì • ì •ì˜
      widgetConfigs: {
        'ticker-tape': {
          container: 'tradingview-ticker-tape',
          script: 'embed-widget-ticker-tape.js',
          config: {
            symbols: [
              { proName: "FOREXCOM:SPXUSD", title: "S&P 500" },
              { proName: "FOREXCOM:NSXUSD", title: "ë‚˜ìŠ¤ë‹¥" },
              { proName: "FX_IDC:EURUSD", title: "EUR/USD" },
              { proName: "BITSTAMP:BTCUSD", title: "ë¹„íŠ¸ì½”ì¸" },
              { proName: "BITSTAMP:ETHUSD", title: "ì´ë”ë¦¬ì›€" },
              { proName: "BINANCE:BNBUSDT", title: "BNB" },
              { proName: "BINANCE:ADAUSDT", title: "ì¹´ë¥´ë‹¤ë…¸" },
              { proName: "BINANCE:DOTUSDT", title: "í´ì¹´ë‹·" }
            ],
            showSymbolLogo: true,
            isTransparent: false,
            displayMode: "adaptive",
            colorTheme: "light",
            locale: "kr",
            width: "100%",
            height: 46
          }
        },
        'btc-chart': {
          container: 'tradingview-btc-chart',
          script: 'embed-widget-symbol-overview.js',
          config: {
            symbols: [["BINANCE:BTCUSD|1M"]],
            chartOnly: false,
            width: "100%",
            height: "100%",
            locale: "kr",
            colorTheme: "light",
            autosize: true,
            showVolume: true,
            lineColor: "rgba(41, 98, 255, 1)",
            "topColor": "rgba(41, 98, 255, 0.2)",
            "bottomColor": "rgba(41, 98, 255, 0)"
          }
        },
        'eth-chart': {
          container: 'tradingview-eth-chart',
          script: 'embed-widget-mini-symbol-overview.js',
          config: {
            symbol: "BINANCE:ETHUSD",
            chartOnly: false,
            dateRange: "1M",
            noTimeScale: false,
            colorTheme: "light",
            isTransparent: false,
            locale: "kr",
            width: "100%",
            autosize: true,
            height: "100%"
          }
        },
        'sol-chart': {
          container: 'tradingview-sol-chart',
          script: 'embed-widget-mini-symbol-overview.js',
          config: {
            symbol: "BINANCE:SOLUSDT",
            chartOnly: false,
            dateRange: "1M",
            noTimeScale: false,
            colorTheme: "light",
            isTransparent: false,
            locale: "kr",
            width: "100%",
            autosize: true,
            height: "100%"
          }
        },
        'technical-analysis': {
          container: 'tradingview-technical-analysis',
          script: 'embed-widget-technical-analysis.js',
          config: {
            colorTheme: "light",
            displayMode: "single",
            isTransparent: false,
            locale: "kr",
            interval: "1m",
            disableInterval: false,
            width: "100%",
            height: 500,
            symbol: "BINANCE:BTCUSDT",
            showIntervalTabs: true
          }
        },
        'crypto-dominance': {
          container: 'tradingview-crypto-dominance',
          script: 'embed-widget-symbol-overview.js',
          config: {
            symbols: [
              ["CRYPTOCAP:BTC.D|1M"],
              ["CRYPTOCAP:ETH.D|1M"]
            ],
            chartOnly: false,
            width: "100%",
            height: "100%",
            locale: "kr",
            colorTheme: "light",
            autosize: true
          }
        },
        'dominance-widget': {
          container: 'tradingview-dominance-widget',
          script: 'embed-widget-market-overview.js',
          config: {
            colorTheme: "light",
            dateRange: "12M",
            locale: "kr",
            isTransparent: false,
            width: "100%",
            height: "100%",
            tabs: [{
              title: "ë„ë¯¸ë„ŒìŠ¤",
              symbols: [
                { s: "CRYPTOCAP:BTC.D", d: "ë¹„íŠ¸ì½”ì¸ ë„ë¯¸ë„ŒìŠ¤" },
                { s: "CRYPTOCAP:ETH.D", d: "ì´ë”ë¦¬ì›€ ë„ë¯¸ë„ŒìŠ¤" },
                { s: "CRYPTOCAP:SOL.D", d: "ì†”ë¼ë‚˜ ë„ë¯¸ë„ŒìŠ¤" }
              ]
            }]
          }
        },
        'crypto-heatmap': {
          container: 'tradingview-crypto-heatmap',
          script: 'embed-widget-crypto-coins-heatmap.js',
          config: {
            dataSource: "Crypto",
            blockSize: "market_cap_calc",
            blockColor: "24h_close_change|5",
            locale: "kr",
            colorTheme: "light",
            width: "100%",
            height: "100%"
          }
        },
        'sp500-heatmap': {
          container: 'tradingview-sp500-heatmap',
          script: 'embed-widget-stock-heatmap.js',
          config: {
            colorTheme: "light",
            locale: "kr",
            isTransparent: false,
            width: "100%",
            height: "100%",
            symbolsGroups: [{
              name: "S&P 500",
              symbols: [
                { name: "AAPL", displayName: "Apple Inc." },
                { name: "MSFT", displayName: "Microsoft Corporation" },
                { name: "GOOGL", displayName: "Alphabet Inc." },
                { name: "AMZN", displayName: "Amazon.com Inc." },
                { name: "TSLA", displayName: "Tesla Inc." },
                { name: "NVDA", displayName: "NVIDIA Corporation" }
              ]
            }]
          }
        }
      },

      // ğŸ¯ ì§€ì—° ë¡œë”©ìœ¼ë¡œ ìœ„ì ¯ ì´ˆê¸°í™”
      async initializeWidgets() {
        if (this.isInitialized) return;
        
        console.log('ğŸš€ TradingView ìœ„ì ¯ ì´ˆê¸°í™” ì‹œì‘...');
        
        // 1. Ticker tapeëŠ” ì¦‰ì‹œ ë¡œë“œ (í˜ì´ì§€ ìƒë‹¨ì— ìˆìŒ)
        await this.createWidget('ticker-tape', this.widgetConfigs['ticker-tape']);
        
        // 2. ë©”ì¸ ëŒ€ì‹œë³´ë“œ ìœ„ì ¯ë“¤ ë¡œë“œ
        const mainWidgets = ['btc-chart', 'technical-analysis'];
        
        for (let i = 0; i < mainWidgets.length; i++) {
          const key = mainWidgets[i];
          const config = this.widgetConfigs[key];
          
          if (config) {
            await this.createWidget(key, config);
            await new Promise(resolve => setTimeout(resolve, 200));
          }
        }
        
        this.isInitialized = true;
        console.log('âœ… TradingView ìœ„ì ¯ ì´ˆê¸°í™” ì™„ë£Œ');
      },

      // ğŸ¯ Intersection Observerë¥¼ ì‚¬ìš©í•œ ì§€ì—° ë¡œë”©
      async loadWidgetWhenVisible(key, config) {
        return new Promise((resolve) => {
          const container = document.getElementById(config.container);
          if (!container) {
            resolve();
            return;
          }

          const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
              if (entry.isIntersecting) {
                observer.disconnect();
                this.createWidget(key, config).then(resolve);
              }
            });
          }, {
            rootMargin: '50px'
          });

          observer.observe(container);
          
          // 5ì´ˆ í›„ íƒ€ì„ì•„ì›ƒ
          setTimeout(() => {
            observer.disconnect();
            resolve();
          }, 5000);
        });
      },

      // ğŸ¯ ê°œë³„ ìœ„ì ¯ ìƒì„±
      async createWidget(key, config) {
        try {
          // ì»¨í…Œì´ë„ˆì— ìŠ¤í¬ë¦½íŠ¸ íƒœê·¸ ìƒì„± (TradingView ê³µì‹ ë°©ì‹)
          const container = document.getElementById(config.container);
          if (!container) return;
          
          // ê¸°ì¡´ ë‚´ìš© ì œê±°
          container.innerHTML = '';
          
          // ìŠ¤í¬ë¦½íŠ¸ íƒœê·¸ ìƒì„±
          const script = document.createElement('script');
          script.type = 'text/javascript';
          script.src = `https://s3.tradingview.com/external-embedding/${config.script}`;
          script.async = true;
          
          // JSON ì„¤ì •ì„ ìŠ¤í¬ë¦½íŠ¸ íƒœê·¸ ë‚´ë¶€ì— ì¶”ê°€
          const configJson = JSON.stringify(config.config, null, 2);
          script.textContent = configJson;
          
          container.appendChild(script);
          
          this.widgets[key] = script;
          console.log(`âœ… ${key} ìœ„ì ¯ ìƒì„± ì™„ë£Œ`);
          
        } catch (error) {
          console.warn(`âš ï¸ ${key} ìœ„ì ¯ ìƒì„± ì‹¤íŒ¨:`, error);
        }
      },


    };

    // í˜ì´ì§€ ë¡œë“œ ì‹œ ìœ„ì ¯ ì´ˆê¸°í™”
    if (document.readyState === 'complete') {
      window.TradingViewManager.initializeWidgets();
    } else {
      window.addEventListener('load', () => {
        window.TradingViewManager.initializeWidgets();
      });
    }
  </script>
  
  <!-- Critical Firebase Scripts -->
  <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-database-compat.js"></script>
</head>
<body>
  <!-- Header placeholder -->
  <div id="header-placeholder"></div>

  <!-- TradingView Ticker Tape Widget BEGIN -->
  <div id="tradingview-ticker-tape" style="width: 100%;">
    <!-- TradingView Ticker Tape ìœ„ì ¯ì´ ì—¬ê¸°ì— ë¡œë“œë©ë‹ˆë‹¤ -->
  </div>
  <!-- TradingView Ticker Tape Widget END -->

  <!-- ì‚¬ì´ë“œë°” ì¶”ê°€ (ë¹„í™œì„±í™”ë¨) -->
  <!--
  <aside class="sidebar" id="sidebar">
    
    <nav class="sidebar-nav">
      <ul class="nav-list">
        <li class="nav-item active">
          <a href="#" class="nav-link" data-action="load-home">
            <i class="fas fa-home nav-icon"></i>
            <span class="nav-text">í™ˆ</span>
          </a>
        </li>
                   <li class="nav-item">
             <div class="nav-link" onclick="toggleSubmenu('market-indicators')">
               <div style="display: flex; align-items: center;">
                 <i class="fas fa-chart-line nav-icon"></i>
                 <span class="nav-text">ì‹œì¥ì§€í‘œ</span>
               </div>
               <i class="fas fa-chevron-down menu-toggle" id="market-indicators-toggle"></i>
             </div>
             <div class="submenu" id="market-indicators-submenu">
               <a href="#" class="submenu-item" data-action="load-mvrv">
                 <i class="fas fa-chart-bar" style="margin-right: 8px;"></i>
                 MVRV ë¹„ìœ¨
               </a>
               <a href="#" class="submenu-item" data-action="load-taker-cvd">
                 <i class="fas fa-chart-line" style="margin-right: 8px;"></i>
                 Taker CVD
               </a>
               <a href="#" class="submenu-item" data-action="load-volume-bubble">
                 <i class="fas fa-chart-pie" style="margin-right: 8px;"></i>
                 Volume Bubble Map
               </a>
             </div>
           </li>
                           <li class="nav-item">
                  <a href="#" class="nav-link" data-action="load-exchange-netflow">
                    <div style="display: flex; align-items: center;">
                      <i class="fas fa-exchange-alt nav-icon"></i>
                      <span class="nav-text">ê±°ë˜ì†Œ ìê¸ˆ íë¦„</span>
                    </div>
                  </a>
                </li>
                <li class="nav-item">
                  <a href="#" class="nav-link" data-action="load-exchange-holdings">
                    <div style="display: flex; align-items: center;">
                      <i class="fas fa-chart-line nav-icon"></i>
                      <span class="nav-text">ê±°ë˜ì†Œ ë³´ìœ ëŸ‰</span>
                    </div>
                  </a>
                </li>
      </ul>
    </nav>
  </aside>
  -->

  <!-- ë©”ì¸ ì»¨í…ì¸  ì„¹ì…˜ -->
  <section class="main-content-section">
    <div class="content-container">
      <!-- ë©”ì¸ ëŒ€ì‹œë³´ë“œ -->
      <div class="dashboard-section">
      <!-- ë©”ì¸ ê·¸ë¦¬ë“œ: 2fr 1fr 1fr 1fr -->
      <div class="main-dashboard-grid">
        <!-- ë¹„íŠ¸ì½”ì¸ ì°¨íŠ¸ (2fr) -->
        <div class="dashboard-card bitcoin-chart-card">
          <div id="tradingview-btc-chart"></div>
        </div>

        <!-- ê¸°ìˆ ì  ë¶„ì„ (1fr) -->
        <div class="dashboard-card technical-analysis-card">
        <div id="tradingview-technical-analysis"></div>
      </div>

        <!-- ê³ ë˜ ê±°ë˜ ì¶”ì  (1fr) -->
        <div class="dashboard-card whale-tracker-card">
        <div class="card-header">
          <h3>
            ê³ ë˜ ê±°ë˜ ì¶”ì 
          </h3>
          <p>ëŒ€í˜• ê±°ë˜ ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§</p>
        </div>
        <div class="whale-content">
          <!-- ê³ ë˜ ê±°ë˜ ëª©ë¡ -->
          <div id="whale-transactions">
            <div style="display: flex; align-items: center; justify-content: center; height: 100%; color: #6b7280;">
              <div style="text-align: center;">
                <i class="fas fa-spinner fa-spin" style="font-size: 2rem; margin-bottom: 1rem;"></i>
                <div>ê³ ë˜ ê±°ë˜ ì—°ê²° ì¤‘...</div>
              </div>
            </div>
          </div>
        </div>
      </div>

        <!-- ì†ë³´ ë‰´ìŠ¤ (1fr) -->
        <div class="dashboard-card breaking-news-card">
        <div class="card-header">
          <h3>
            ì†ë³´ ë‰´ìŠ¤
          </h3>
          <p>ì¤‘ìš”ë„ ë†’ì€ ì•”í˜¸í™”í ë‰´ìŠ¤</p>
        </div>
        <div class="breaking-news-content">
          <div id="breaking-news-list">
            <div style="display: flex; align-items: center; justify-content: center; height: 400px; color: #6b7280;">
              <div style="text-align: center;">
                <i class="fas fa-spinner fa-spin" style="font-size: 2rem; margin-bottom: 1rem;"></i>
                <div>ì†ë³´ ë‰´ìŠ¤ ë¡œë”© ì¤‘...</div>
              </div>
            </div>
          </div>
        </div>
      </div>
      </div>

      <!-- ì‹¤ì‹œê°„ ì½”ì¸ ì‹œì„¸ í…Œì´ë¸” -->
      <div class="crypto-table-section">
        <div class="section-header">
        <h3 class="section-title">
          ì‹¤ì‹œê°„ ì½”ì¸ ì‹œì„¸
        </h3>
        <div class="table-controls">
          <div class="search-box">
            <i class="fas fa-search"></i>
            <input type="text" id="coin-search" placeholder="ì½”ì¸ ê²€ìƒ‰...">
          </div>
          <button class="refresh-btn" id="refresh-data">
            <i class="fas fa-sync-alt"></i>
          </button>
        </div>
      </div>
      
      <div class="crypto-table-wrapper">
                 <div class="table-tabs">
           <button class="tab-btn active" data-category="all">ì „ì²´</button>
           <button class="tab-btn" data-category="gainers">ìƒìŠ¹</button>
           <button class="tab-btn" data-category="losers">í•˜ë½</button>
         </div>
        
        <div class="crypto-table-container">
                     <table class="crypto-table" id="crypto-table">
             <thead>
               <tr>
                 <th class="sortable rank-col" data-sort="rank">ìˆœìœ„</th>
                 <th class="sortable name-col" data-sort="name">ì½”ì¸</th>
                 <th class="sortable price-col" data-sort="price">ê°€ê²©</th>
                 <th class="sortable change-col" data-sort="change1h">ê°€ê²©(1H%)</th>
                 <th class="sortable change-col" data-sort="change24h">ê°€ê²©(24H %)</th>
                 <th class="sortable funding-col" data-sort="fundingRate">ìê¸ˆ ì¡°ë‹¬ ë¹„ìœ¨</th>
                 <th class="sortable volume-col" data-sort="volume">24H ë³¼ë¥¨($)</th>
                 <th class="sortable oi-col" data-sort="openInterest">OI($)</th>
                 <th class="sortable oi-change-col" data-sort="oiChange1h">OI(1H%)</th>
                 <th class="sortable oi-change-col" data-sort="oiChange4h">OI(4H%)</th>
                 <th class="sortable market-col" data-sort="marketCap">Market Cap($)</th>
                 <th class="sortable liquidation-col" data-sort="liquidation1h">1H ì²­ì‚°($)</th>
                 <th class="sortable liquidation-col" data-sort="liquidation24h">24H ì²­ì‚°($)</th>
                 <th class="chart-col">ì°¨íŠ¸</th>
               </tr>
             </thead>
            <tbody id="crypto-table-body">
              <!-- ì½”ì¸ ë°ì´í„°ê°€ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ì¶”ê°€ë©ë‹ˆë‹¤ -->
            </tbody>
          </table>
        </div>
        
        <div class="table-pagination">
          <button class="page-btn" id="prev-page" disabled>ì´ì „</button>
          <span class="page-info" id="page-info">1 / 1</span>
          <button class="page-btn" id="next-page">ë‹¤ìŒ</button>
        </div>
      </div>
    </div>
  </section>



  <!-- ê³ ë˜ ê±°ë˜ ì„¤ì • ëª¨ë‹¬ -->
  <div id="whale-settings-modal" class="modal-overlay" style="display: none;">
    <div class="modal-content">
      <div class="modal-header">
        <h2>ê³ ë˜ ê±°ë˜ ì¶”ì  ì„¤ì •</h2>
        <button class="modal-close" id="close-whale-settings">&times;</button>
      </div>
      <div class="modal-body">
        <div id="whale-settings-list">
          <!-- ì„¤ì • í•­ëª©ë“¤ì´ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ì¶”ê°€ë©ë‹ˆë‹¤ -->
        </div>
      </div>
      <div class="modal-footer">
        <button id="save-whale-settings" class="btn btn-primary">ì„¤ì • ì €ì¥</button>
      </div>
    </div>
  </div>

  <!-- ê³µì‹ íŒŒíŠ¸ë„ˆ ìŠ¬ë¼ì´ë“œ ì‹œì‘ -->
  <section class="partner-slider-section" style="width: 100%; padding: 20px 0;">
    <div class="partner-slider-container" style="width: 100%; max-width: 2000px; margin: 0 auto; padding-left: 20px; padding-right: 20px;">
      <div class="partner-grid-header">
        <p class="partner-grid-pre-title">ì£¼ìš” íŒŒíŠ¸ë„ˆì‚¬ë“¤ê³¼ ê³µì‹ê³„ì•½ ì²´ê²°</p>
        <h2 class="partner-grid-title">ì„¸ê³„ ìµœê³ ì˜ ê°€ìƒ ìì‚° ê±°ë˜ì†Œë“¤ê³¼<br>í•¨ê»˜í•˜ëŠ” ONBit</h2>
    </div>
    <div class="partner-slider">
        <div class="partner-track" id="track1">
            <div class="partner-logo-item"><img src="assets/partner/lbank.png" alt="Lbank"></div>
            <div class="partner-logo-item"><img src="assets/partner/bitget.png" alt="Bitget"></div>
            <div class="partner-logo-item"><img src="assets/partner/bitmex.png" alt="Bitmex"></div>
            <div class="partner-logo-item"><img src="assets/partner/okx.png" alt="OKX"></div>
            <div class="partner-logo-item"><img src="assets/partner/tradingview.png" alt="TradingView"></div>
            <div class="partner-logo-item"><img src="assets/partner/onbit.png" alt="Onbit"></div>
            <div class="partner-logo-item"><img src="assets/partner/binance.png" alt="Binance"></div>
            <div class="partner-logo-item"><img src="assets/partner/lbank.png" alt="Lbank"></div>
            <div class="partner-logo-item"><img src="assets/partner/bitget.png" alt="Bitget"></div>
            <div class="partner-logo-item"><img src="assets/partner/bitmex.png" alt="Bitmex"></div>
            <div class="partner-logo-item"><img src="assets/partner/okx.png" alt="OKX"></div>
            <div class="partner-logo-item"><img src="assets/partner/tradingview.png" alt="TradingView"></div>
            <div class="partner-logo-item"><img src="assets/partner/onbit.png" alt="Onbit"></div>
            <div class="partner-logo-item"><img src="assets/partner/binance.png" alt="Binance"></div>
            <div class="partner-logo-item"><img src="assets/partner/lbank.png" alt="Lbank"></div>
            <div class="partner-logo-item"><img src="assets/partner/bitget.png" alt="Bitget"></div>
        </div>
        <div class="partner-track" id="track2">
            <div class="partner-logo-item"><img src="assets/partner/lbank.png" alt="Lbank"></div>
            <div class="partner-logo-item"><img src="assets/partner/bitget.png" alt="Bitget"></div>
            <div class="partner-logo-item"><img src="assets/partner/bitmex.png" alt="Bitmex"></div>
            <div class="partner-logo-item"><img src="assets/partner/okx.png" alt="OKX"></div>
            <div class="partner-logo-item"><img src="assets/partner/tradingview.png" alt="TradingView"></div>
            <div class="partner-logo-item"><img src="assets/partner/onbit.png" alt="Onbit"></div>
            <div class="partner-logo-item"><img src="assets/partner/binance.png" alt="Binance"></div>
            <div class="partner-logo-item"><img src="assets/partner/lbank.png" alt="Lbank"></div>
            <div class="partner-logo-item"><img src="assets/partner/bitget.png" alt="Bitget"></div>
            <div class="partner-logo-item"><img src="assets/partner/bitmex.png" alt="Bitmex"></div>
            <div class="partner-logo-item"><img src="assets/partner/okx.png" alt="OKX"></div>
            <div class="partner-logo-item"><img src="assets/partner/tradingview.png" alt="TradingView"></div>
            <div class="partner-logo-item"><img src="assets/partner/onbit.png" alt="Onbit"></div>
            <div class="partner-logo-item"><img src="assets/partner/binance.png" alt="Binance"></div>
            <div class="partner-logo-item"><img src="assets/partner/lbank.png" alt="Lbank"></div>
            <div class="partner-logo-item"><img src="assets/partner/bitget.png" alt="Bitget"></div>
        </div>
      </div>
    </div>
</section>


  <!-- Footer placeholder -->
  <div id="footer-placeholder"></div>

  <!-- Scripts - Load in correct order with error handling -->
  <script>
    // ìŠ¤í¬ë¦½íŠ¸ ë¡œë”© ì˜¤ë¥˜ ì²˜ë¦¬
    window.addEventListener('error', function(e) {
      if (e.target.tagName === 'SCRIPT') {
        console.warn('ìŠ¤í¬ë¦½íŠ¸ ë¡œë”© ì‹¤íŒ¨:', e.target.src);
      }
    });
  </script>
  
  <script src="js/auth.js"></script>
  <script src="components/header/header-loader.js"></script>
  <script src="js/footer-loader.js"></script>
  <!-- ì‚¬ì´ë“œë°” ìŠ¤í¬ë¦½íŠ¸ëŠ” í˜ì´ì§€ í•˜ë‹¨ì—ì„œ í•œ ë²ˆë§Œ ë¡œë“œë©ë‹ˆë‹¤ -->
      <script src="asset/mvrv-ratio/mvrv-script.js"></script>
    <script src="asset/taker-cvd/taker-cvd-script.js"></script>
    <script src="asset/volume-bubble-map/volume-bubble-script.js"></script>
      <script src="asset/exchange-netflow/exchange-netflow-script.js"></script>
    <script src="asset/exchange-holdings/exchange-holdings-script.js"></script>
  
  <!-- ë‰´ìŠ¤ ê¸°ëŠ¥ ë¡œë“œ (ì†ë³´ ì¹´ë“œì— í•„ìš”) -->
  <script src="js/news.js"></script>
  
  <script src="js/popup-banner.js"></script>
  
  <!-- ğŸš€ ì§€ì—° ë¡œë”©ìœ¼ë¡œ ë¬´ê±°ìš´ ëª¨ë“ˆë“¤ ê´€ë¦¬ -->
  <script>
    // MVRV ì»¨í…ì¸  ë¡œë“œ í•¨ìˆ˜
    async function loadMVRVContent() {
      try {
        // ê¸°ì¡´ ì»¨í…ì¸  ìˆ¨ê¸°ê¸°
        const dashboardSection = document.querySelector('.dashboard-section');
        const cryptoTableSection = document.querySelector('.crypto-table-section');
        const partnerSliderSection = document.querySelector('.partner-slider-section');
        
        if (dashboardSection) dashboardSection.style.display = 'none';
        if (cryptoTableSection) cryptoTableSection.style.display = 'none';
        if (partnerSliderSection) partnerSliderSection.style.display = 'none';
        
        // MVRV ì»¨í…ì¸  ë¡œë“œ
        const response = await fetch('asset/mvrv-ratio/mvrv-content.html');
        const mvrvHtml = await response.text();
        
        // content-containerì— MVRV ì»¨í…ì¸  ì‚½ì…
        const contentContainer = document.querySelector('.content-container');
        contentContainer.innerHTML = mvrvHtml;
        
        // MVRV ë¶„ì„ê¸° ì´ˆê¸°í™”
        if (typeof initMVRVAnalyzer === 'function') {
          setTimeout(() => {
            initMVRVAnalyzer();
          }, 100);
        }
        
        // ì‚¬ì´ë“œë°” í™œì„± ìƒíƒœ ì—…ë°ì´íŠ¸ (ë¹„í™œì„±í™”ë¨)
        // updateSidebarActiveState('mvrv');
        
      } catch (error) {
        console.error('MVRV ì»¨í…ì¸  ë¡œë“œ ì‹¤íŒ¨:', error);
      }
    }
    
    // í™ˆ ì»¨í…ì¸  ë¡œë“œ í•¨ìˆ˜
    function loadHomeContent() {
      // ê¸°ì¡´ ì»¨í…ì¸  ë³µì›
      const dashboardSection = document.querySelector('.dashboard-section');
      const cryptoTableSection = document.querySelector('.crypto-table-section');
      const partnerSliderSection = document.querySelector('.partner-slider-section');
      
      if (dashboardSection) dashboardSection.style.display = 'block';
      if (cryptoTableSection) cryptoTableSection.style.display = 'block';
      if (partnerSliderSection) partnerSliderSection.style.display = 'block';
      
      // content-containerë¥¼ ì›ë˜ ìƒíƒœë¡œ ë³µì›
      const contentContainer = document.querySelector('.content-container');
      contentContainer.innerHTML = `
        <!-- ë©”ì¸ ëŒ€ì‹œë³´ë“œ -->
        <div class="dashboard-section">
          <div class="main-dashboard-grid">
            <!-- ë¹„íŠ¸ì½”ì¸ ì°¨íŠ¸ (2fr) -->
            <div class="dashboard-card bitcoin-chart-card">
              <div id="tradingview-btc-chart"></div>
            </div>

            <!-- ê¸°ìˆ ì  ë¶„ì„ (1fr) -->
            <div class="dashboard-card technical-analysis-card">
            <div id="tradingview-technical-analysis"></div>
          </div>

            <!-- ê³ ë˜ ê±°ë˜ ì¶”ì  (1fr) -->
            <div class="dashboard-card whale-tracker-card">
            <div class="card-header">
              <h3>
                <i class="fas fa-fish" style="color: #10b981;"></i>
                ê³ ë˜ ê±°ë˜ ì¶”ì 
              </h3>
              <p>ëŒ€í˜• ê±°ë˜ ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§</p>
            </div>
            <div class="whale-content">
              <!-- ê³ ë˜ ê±°ë˜ ëª©ë¡ -->
              <div id="whale-transactions">
                <div style="display: flex; align-items: center; justify-content: center; height: 100%; color: #6b7280;">
                  <div style="text-align: center;">
                    <i class="fas fa-spinner fa-spin" style="font-size: 2rem; margin-bottom: 1rem;"></i>
                    <div>ê³ ë˜ ê±°ë˜ ì—°ê²° ì¤‘...</div>
                  </div>
                </div>
              </div>
            </div>
          </div>

            <!-- ì†ë³´ ë‰´ìŠ¤ (1fr) -->
            <div class="dashboard-card breaking-news-card">
            <div class="card-header">
              <h3>
                <i class="fas fa-newspaper" style="color: #ef4444;"></i>
                ì†ë³´ ë‰´ìŠ¤
              </h3>
              <p>ì¤‘ìš”ë„ ë†’ì€ ì•”í˜¸í™”í ë‰´ìŠ¤</p>
            </div>
            <div class="breaking-news-content">
              <div id="breaking-news-list">
                <div style="display: flex; align-items: center; justify-content: center; height: 400px; color: #6b7280;">
                  <div style="text-align: center;">
                    <i class="fas fa-spinner fa-spin" style="font-size: 2rem; margin-bottom: 1rem;"></i>
                    <div>ì†ë³´ ë‰´ìŠ¤ ë¡œë”© ì¤‘...</div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          </div>
        </div>

        <!-- ì‹¤ì‹œê°„ ì½”ì¸ ì‹œì„¸ í…Œì´ë¸” -->
        <div class="crypto-table-section">
          <div class="section-header">
            <h3 class="section-title">
              <i class="fas fa-coins"></i>
              ì‹¤ì‹œê°„ ì½”ì¸ ì‹œì„¸
            </h3>
            <div class="table-controls">
              <div class="search-box">
                <i class="fas fa-search"></i>
                <input type="text" id="coin-search" placeholder="ì½”ì¸ ê²€ìƒ‰...">
              </div>
              <button class="refresh-btn" id="refresh-data">
                <i class="fas fa-sync-alt"></i>
              </button>
            </div>
          </div>
          
          <div class="crypto-table-wrapper">
                       <div class="table-tabs">
                 <button class="tab-btn active" data-category="all">ì „ì²´</button>
                 <button class="tab-btn" data-category="gainers">ìƒìŠ¹</button>
                 <button class="tab-btn" data-category="losers">í•˜ë½</button>
               </div>
              
              <div class="crypto-table-container">
                           <table class="crypto-table" id="crypto-table">
                   <thead>
                     <tr>
                       <th class="sortable rank-col" data-sort="rank">ìˆœìœ„</th>
                       <th class="sortable name-col" data-sort="name">ì½”ì¸</th>
                       <th class="sortable price-col" data-sort="price">ê°€ê²©</th>
                       <th class="sortable change-col" data-sort="change1h">ê°€ê²©(1H%)</th>
                       <th class="sortable change-col" data-sort="change24h">ê°€ê²©(24H %)</th>
                       <th class="sortable funding-col" data-sort="fundingRate">ìê¸ˆ ì¡°ë‹¬ ë¹„ìœ¨</th>
                       <th class="sortable volume-col" data-sort="volume">24H ë³¼ë¥¨($)</th>
                       <th class="sortable oi-col" data-sort="openInterest">OI($)</th>
                       <th class="sortable oi-change-col" data-sort="oiChange1h">OI(1H%)</th>
                       <th class="sortable oi-change-col" data-sort="oiChange4h">OI(4H%)</th>
                       <th class="sortable market-col" data-sort="marketCap">Market Cap($)</th>
                       <th class="sortable liquidation-col" data-sort="liquidation1h">1H ì²­ì‚°($)</th>
                       <th class="sortable liquidation-col" data-sort="liquidation24h">24H ì²­ì‚°($)</th>
                       <th class="chart-col">ì°¨íŠ¸</th>
                     </tr>
                   </thead>
                  <tbody id="crypto-table-body">
                    <!-- ì½”ì¸ ë°ì´í„°ê°€ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ì¶”ê°€ë©ë‹ˆë‹¤ -->
                  </tbody>
                </table>
              </div>
              
              <div class="table-pagination">
                <button class="page-btn" id="prev-page" disabled>ì´ì „</button>
                <span class="page-info" id="page-info">1 / 1</span>
                <button class="page-btn" id="next-page">ë‹¤ìŒ</button>
              </div>
            </div>
        </div>
      `;
      
      // ì‚¬ì´ë“œë°” í™œì„± ìƒíƒœ ì—…ë°ì´íŠ¸ (ë¹„í™œì„±í™”ë¨)
      // updateSidebarActiveState('home');
    }
    
         // Taker CVD ì»¨í…ì¸  ë¡œë“œ í•¨ìˆ˜
     async function loadTakerCVDContent() {
       try {
         // ê¸°ì¡´ ì»¨í…ì¸  ìˆ¨ê¸°ê¸°
         const dashboardSection = document.querySelector('.dashboard-section');
         const cryptoTableSection = document.querySelector('.crypto-table-section');
         const partnerSliderSection = document.querySelector('.partner-slider-section');
         
         if (dashboardSection) dashboardSection.style.display = 'none';
         if (cryptoTableSection) cryptoTableSection.style.display = 'none';
         if (partnerSliderSection) partnerSliderSection.style.display = 'none';
         
         // Taker CVD ì»¨í…ì¸  ë¡œë“œ
         const response = await fetch('asset/taker-cvd/taker-cvd-content.html');
         const takerCvdHtml = await response.text();
         
         // content-containerì— Taker CVD ì»¨í…ì¸  ì‚½ì…
         const contentContainer = document.querySelector('.content-container');
         contentContainer.innerHTML = takerCvdHtml;
         
         // Taker CVD ë¶„ì„ê¸° ì´ˆê¸°í™”
         if (typeof initTakerCVDAnalyzer === 'function') {
           setTimeout(() => {
             initTakerCVDAnalyzer();
           }, 100);
         }
         
         // ì‚¬ì´ë“œë°” í™œì„± ìƒíƒœ ì—…ë°ì´íŠ¸ (ë¹„í™œì„±í™”ë¨)
         // updateSidebarActiveState('taker-cvd');
         
       } catch (error) {
         console.error('Taker CVD ì»¨í…ì¸  ë¡œë“œ ì‹¤íŒ¨:', error);
       }
     }

     // Volume Bubble Map ì»¨í…ì¸  ë¡œë“œ í•¨ìˆ˜
     async function loadVolumeBubbleContent() {
       try {
         // ê¸°ì¡´ ì»¨í…ì¸  ìˆ¨ê¸°ê¸°
         const dashboardSection = document.querySelector('.dashboard-section');
         const cryptoTableSection = document.querySelector('.crypto-table-section');
         const partnerSliderSection = document.querySelector('.partner-slider-section');
         
         if (dashboardSection) dashboardSection.style.display = 'none';
         if (cryptoTableSection) cryptoTableSection.style.display = 'none';
         if (partnerSliderSection) partnerSliderSection.style.display = 'none';
         
         // Volume Bubble Map ì»¨í…ì¸  ë¡œë“œ
         const response = await fetch('asset/volume-bubble-map/volume-bubble-content.html');
         const volumeBubbleHtml = await response.text();
         
         // content-containerì— Volume Bubble Map ì»¨í…ì¸  ì‚½ì…
         const contentContainer = document.querySelector('.content-container');
         contentContainer.innerHTML = volumeBubbleHtml;
         
         // Volume Bubble Map ë¶„ì„ê¸° ì´ˆê¸°í™”
         if (typeof initVolumeBubbleMapManager === 'function') {
           setTimeout(() => {
             initVolumeBubbleMapManager();
           }, 100);
         }
         
         // ì‚¬ì´ë“œë°” í™œì„± ìƒíƒœ ì—…ë°ì´íŠ¸ (ë¹„í™œì„±í™”ë¨)
         // updateSidebarActiveState('volume-bubble');
         
       } catch (error) {
         console.error('Volume Bubble Map ì»¨í…ì¸  ë¡œë“œ ì‹¤íŒ¨:', error);
       }
     }

     // Exchange Netflow ì»¨í…ì¸  ë¡œë“œ í•¨ìˆ˜
     async function loadExchangeNetflowContent() {
       try {
         // ê¸°ì¡´ ì»¨í…ì¸  ìˆ¨ê¸°ê¸°
         const dashboardSection = document.querySelector('.dashboard-section');
         const cryptoTableSection = document.querySelector('.crypto-table-section');
         const partnerSliderSection = document.querySelector('.partner-slider-section');
         
         if (dashboardSection) dashboardSection.style.display = 'none';
         if (cryptoTableSection) cryptoTableSection.style.display = 'none';
         if (partnerSliderSection) partnerSliderSection.style.display = 'none';
         
         // Exchange Netflow ì»¨í…ì¸  ë¡œë“œ
         const response = await fetch('asset/exchange-netflow/exchange-netflow-content.html');
         const exchangeNetflowHtml = await response.text();
         
         // content-containerì— Exchange Netflow ì»¨í…ì¸  ì‚½ì…
         const contentContainer = document.querySelector('.content-container');
         contentContainer.innerHTML = exchangeNetflowHtml;
         
         // Exchange Netflow ë¶„ì„ê¸° ì´ˆê¸°í™”
         if (typeof initExchangeNetflowAnalyzer === 'function') {
           setTimeout(() => {
             initExchangeNetflowAnalyzer();
           }, 100);
         }
         
         // ì‚¬ì´ë“œë°” í™œì„± ìƒíƒœ ì—…ë°ì´íŠ¸ (ë¹„í™œì„±í™”ë¨)
         // updateSidebarActiveState('exchange-netflow');
         
       } catch (error) {
         console.error('Exchange Netflow ì»¨í…ì¸  ë¡œë“œ ì‹¤íŒ¨:', error);
       }
     }

     // Exchange Holdings ì»¨í…ì¸  ë¡œë“œ í•¨ìˆ˜
     async function loadExchangeHoldingsContent() {
       try {
         // ê¸°ì¡´ ì»¨í…ì¸  ìˆ¨ê¸°ê¸°
         const dashboardSection = document.querySelector('.dashboard-section');
         const cryptoTableSection = document.querySelector('.crypto-table-section');
         const partnerSliderSection = document.querySelector('.partner-slider-section');
         
         if (dashboardSection) dashboardSection.style.display = 'none';
         if (cryptoTableSection) cryptoTableSection.style.display = 'none';
         if (partnerSliderSection) partnerSliderSection.style.display = 'none';
         
         // Exchange Holdings ì»¨í…ì¸  ë¡œë“œ
         const response = await fetch('asset/exchange-holdings/exchange-holdings-content.html');
         const exchangeHoldingsHtml = await response.text();
         
         // content-containerì— Exchange Holdings ì»¨í…ì¸  ì‚½ì…
         const contentContainer = document.querySelector('.content-container');
         contentContainer.innerHTML = exchangeHoldingsHtml;
         
         // Exchange Holdings ë¶„ì„ê¸° ì´ˆê¸°í™”
         if (typeof initExchangeHoldingsAnalyzer === 'function') {
           setTimeout(() => {
             initExchangeHoldingsAnalyzer();
           }, 100);
         }
         
         // ì‚¬ì´ë“œë°” í™œì„± ìƒíƒœ ì—…ë°ì´íŠ¸ (ë¹„í™œì„±í™”ë¨)
         // updateSidebarActiveState('exchange-holdings');
         
       } catch (error) {
         console.error('Exchange Holdings ì»¨í…ì¸  ë¡œë“œ ì‹¤íŒ¨:', error);
       }
     }
     
     // ì‚¬ì´ë“œë°” ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì„¤ì •
     document.addEventListener('DOMContentLoaded', function() {
       // ì‚¬ì´ë“œë°” ë©”ë‰´ í´ë¦­ ì´ë²¤íŠ¸
       document.addEventListener('click', function(e) {
         const target = e.target.closest('[data-action]');
         if (!target) return;
         
         const action = target.getAttribute('data-action');
         
         switch (action) {
           case 'load-home':
             loadHomeContent();
             break;
           case 'load-mvrv':
             loadMVRVContent();
             break;
           case 'load-taker-cvd':
             loadTakerCVDContent();
             break;
           case 'load-volume-bubble':
             loadVolumeBubbleContent();
             break;
           case 'load-exchange-netflow':
             loadExchangeNetflowContent();
             break;
           case 'load-exchange-holdings':
             loadExchangeHoldingsContent();
             break;
         }
       });
     });
     
     // ì‚¬ì´ë“œë°” í™œì„± ìƒíƒœ ì—…ë°ì´íŠ¸ í•¨ìˆ˜ (ë¹„í™œì„±í™”ë¨)
     /*
     function updateSidebarActiveState(page) {
       // ëª¨ë“  í™œì„± ìƒíƒœ ì œê±°
       document.querySelectorAll('.nav-item').forEach(item => item.classList.remove('active'));
       document.querySelectorAll('.submenu-item').forEach(item => item.classList.remove('active'));
       
       if (page === 'home') {
         // í™ˆ ë©”ë‰´ í™œì„±í™”
         const homeItem = document.querySelector('.nav-item:first-child');
         if (homeItem) homeItem.classList.add('active');
       } else if (page === 'mvrv') {
         // MVRV ë©”ë‰´ í™œì„±í™”
         const marketIndicatorsItem = document.querySelector('.nav-item:nth-child(2)');
         const mvrvSubmenuItem = document.querySelector('.submenu-item[data-action="load-mvrv"]');
         
         if (marketIndicatorsItem) {
           marketIndicatorsItem.classList.add('active');
           // ì„œë¸Œë©”ë‰´ ì—´ê¸°
           const submenu = document.getElementById('market-indicators-submenu');
           const toggle = document.getElementById('market-indicators-toggle');
           if (submenu && toggle) {
             submenu.classList.add('open');
             toggle.classList.add('rotated');
           }
         }
         if (mvrvSubmenuItem) mvrvSubmenuItem.classList.add('active');
       } else if (page === 'taker-cvd') {
         // Taker CVD ë©”ë‰´ í™œì„±í™”
         const marketIndicatorsItem = document.querySelector('.nav-item:nth-child(2)');
         const takerCvdSubmenuItem = document.querySelector('.submenu-item[data-action="load-taker-cvd"]');
         
         if (marketIndicatorsItem) {
           marketIndicatorsItem.classList.add('active');
           // ì„œë¸Œë©”ë‰´ ì—´ê¸°
           const submenu = document.getElementById('market-indicators-submenu');
           const toggle = document.getElementById('market-indicators-toggle');
           if (submenu && toggle) {
             submenu.classList.add('open');
             toggle.classList.add('rotated');
           }
         }
         if (takerCvdSubmenuItem) takerCvdSubmenuItem.classList.add('active');
       } else if (page === 'volume-bubble') {
         // Volume Bubble Map ë©”ë‰´ í™œì„±í™”
         const marketIndicatorsItem = document.querySelector('.nav-item:nth-child(2)');
         const volumeBubbleSubmenuItem = document.querySelector('.submenu-item[data-action="load-volume-bubble"]');
         
         if (marketIndicatorsItem) {
           marketIndicatorsItem.classList.add('active');
           // ì„œë¸Œë©”ë‰´ ì—´ê¸°
           const submenu = document.getElementById('market-indicators-submenu');
           const toggle = document.getElementById('market-indicators-toggle');
           if (submenu && toggle) {
             submenu.classList.add('open');
             toggle.classList.add('rotated');
           }
         }
         if (volumeBubbleSubmenuItem) volumeBubbleSubmenuItem.classList.add('active');
       } else if (page === 'exchange-netflow') {
         // Exchange Netflow ë©”ë‰´ í™œì„±í™” (ë³„ë„ ë©”ë‰´)
         const exchangeNetflowItem = document.querySelector('.nav-item[data-action="load-exchange-netflow"]');
         if (exchangeNetflowItem) exchangeNetflowItem.classList.add('active');
       } else if (page === 'exchange-holdings') {
         // Exchange Holdings ë©”ë‰´ í™œì„±í™” (ë³„ë„ ë©”ë‰´)
         const exchangeHoldingsItem = document.querySelector('.nav-item[data-action="load-exchange-holdings"]');
         if (exchangeHoldingsItem) exchangeHoldingsItem.classList.add('active');
       }
     }
     */
    
    // ì„±ëŠ¥ ìµœì í™”ë¥¼ ìœ„í•œ ì§€ì—° ë¡œë”© ì‹œìŠ¤í…œ
    window.LazyLoader = {
      loadedModules: new Set(),
      
      // ëª¨ë“ˆ ì§€ì—° ë¡œë”©
      async loadModule(moduleName, scriptPath) {
        if (this.loadedModules.has(moduleName)) {
          return Promise.resolve();
        }
        
        console.log(`ğŸ”„ ${moduleName} ëª¨ë“ˆ ë¡œë”© ì¤‘...`);
        
        return new Promise((resolve, reject) => {
          const script = document.createElement('script');
          script.src = scriptPath;
          script.type = 'module';
          script.onload = () => {
            this.loadedModules.add(moduleName);
            console.log(`âœ… ${moduleName} ëª¨ë“ˆ ë¡œë”© ì™„ë£Œ`);
            resolve();
          };
          script.onerror = reject;
          document.head.appendChild(script);
        });
      },
      
      // Intersection Observerë¡œ í•„ìš”í•  ë•Œ ë¡œë”©
      loadWhenVisible(moduleName, scriptPath, triggerSelector) {
        const trigger = document.querySelector(triggerSelector);
        if (!trigger) return;
        
        const observer = new IntersectionObserver((entries) => {
          entries.forEach(entry => {
            if (entry.isIntersecting) {
              observer.disconnect();
              this.loadModule(moduleName, scriptPath);
            }
          });
        }, { rootMargin: '100px' });
        
        observer.observe(trigger);
      }
    };
    
    // í˜ì´ì§€ ë¡œë“œ í›„ ì§€ì—° ë¡œë”© ì‹œì‘
    document.addEventListener('DOMContentLoaded', () => {
      // 1. WhaleTracker - ê³ ë˜ ê±°ë˜ ì¹´ë“œê°€ ë³´ì¼ ë•Œ ë¡œë”©
      window.LazyLoader.loadWhenVisible(
        'WhaleTracker', 
        'js/analysis/whale-tracker.js', 
        '.whale-tracker-card'
      );
      
      // 2. CompoundCalculator - ê³„ì‚°ê¸° ë²„íŠ¼ì´ ë³´ì¼ ë•Œ ë¡œë”©
      window.LazyLoader.loadWhenVisible(
        'CompoundCalculator', 
        'js/compound-calculator.js', 
        '#calculate-btn'
      );
      
      // 3. LongShortTracker - ë¶„ì„ í˜ì´ì§€ì—ì„œë§Œ í•„ìš”
      if (window.location.pathname.includes('analysis')) {
        window.LazyLoader.loadModule('LongShortTracker', 'js/analysis/longshort-tracker.js');
      }
    });
  </script>
  
  <!-- Card-specific JavaScript files -->
  <script src="js/cards/trading-charts.js"></script>
  <script src="js/cards/feature-cards.js"></script>
  <script src="js/cards/heatmap-cards.js"></script>
  <!-- html2canvas for modal capture -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
  <!-- ğŸ¯ WhaleTracker ì§€ì—° ì´ˆê¸°í™” -->
  <script>
    // WhaleTrackerê°€ ë¡œë“œëœ í›„ ì´ˆê¸°í™”
    window.initializeWhaleTracker = () => {
      if (typeof window.WhaleTracker !== 'undefined') {
        try {
          window.whaleTracker = new window.WhaleTracker();
          console.log('âœ… WhaleTracker ì´ˆê¸°í™” ì™„ë£Œ');
        } catch (error) {
          console.error('âŒ WhaleTracker ì´ˆê¸°í™” ì‹¤íŒ¨:', error);
        }
      }
    };
    
    // ëª¨ë“ˆ ë¡œë“œ ì™„ë£Œ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ
    window.addEventListener('moduleLoaded', (event) => {
      if (event.detail.moduleName === 'WhaleTracker') {
        window.initializeWhaleTracker();
      }
    });
  </script>
  
  <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
  <script src="https://challenges.cloudflare.com/turnstile/v0/api.js" async defer></script>
  
  <!-- Firebase SDK for Events -->
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
    import { getFirestore, collection, getDocs, query, orderBy, limit } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js";
    import { firebaseConfig } from './firebase-config.js';
    
    try {
      // Firebase ì´ˆê¸°í™”
      const app = initializeApp(firebaseConfig);
      const db = getFirestore(app);
      
      // ì „ì—­ ë³€ìˆ˜ë¡œ Firebase ê°ì²´ë“¤ ë…¸ì¶œ (ë°”ì¸ë”© ìœ ì§€)
      window.firebaseDB = db;
      window.firebaseCollection = collection.bind(null, db);
      window.firebaseGetDocs = getDocs;
      window.firebaseQuery = query;
      window.firebaseOrderBy = orderBy;
      window.firebaseLimit = limit;
      
      // Firebase ì´ˆê¸°í™” ì™„ë£Œ í”Œë˜ê·¸
      window.firebaseInitialized = true;
      
      console.log('Firebase ì´ˆê¸°í™” ì™„ë£Œ');
      
      // Firebase ì´ˆê¸°í™” ì™„ë£Œ ì´ë²¤íŠ¸ ë°œìƒ
      window.dispatchEvent(new CustomEvent('firebaseInitialized'));
    } catch (error) {
      console.error('Firebase ì´ˆê¸°í™” ì‹¤íŒ¨:', error);
      // Firebase ì´ˆê¸°í™” ì‹¤íŒ¨ ì‹œì—ë„ ë‹¤ë¥¸ ê¸°ëŠ¥ë“¤ì€ ê³„ì† ì‘ë™í•˜ë„ë¡
      window.firebaseInitialized = false;
    }
  </script>

  <script>
    // í˜ì´ì§€ ì´ˆê¸°í™”
    document.addEventListener('DOMContentLoaded', function() {
      
      // í˜ì´ì§€ë³„ ì´ˆê¸°í™” í•¨ìˆ˜ í˜¸ì¶œ
      if (typeof initializePage === 'function') {
        initializePage();
      }
      
      // TradingView ì°¨íŠ¸ëŠ” ë¶„ì„ í˜ì´ì§€ì—ì„œë§Œ ì´ˆê¸°í™”
      if (window.location.pathname.includes('analysis') && window.TradingView) {
        // ì„ íƒëœ ì‹¬ë³¼ë¡œ ì´ˆê¸°í™”
        const chartSymbol = document.getElementById('chart-symbol');
        const initialSymbol = chartSymbol ? chartSymbol.value : 'BTCUSDT';
        initializeTradingViewChart(initialSymbol);
      }
    });
    
        // ì „ì—­ TradingView ìœ„ì ¯ ì¸ìŠ¤í„´ìŠ¤
    let tradingViewWidget = null;
    let currentChartSymbol = 'BTCUSDT';

    // í˜„ì¬ ì‹œê°„ í”„ë ˆì„ ì €ì¥
    let currentTimeframe = '1';

    // TradingView ì°¨íŠ¸ ì´ˆê¸°í™” í•¨ìˆ˜ (ë¶„ì„ í˜ì´ì§€ì—ì„œë§Œ ì‚¬ìš©)
    function initializeTradingViewChart(symbol = 'BTCUSDT', interval = null) {
      // ë¶„ì„ í˜ì´ì§€ì—ì„œë§Œ ì‹¤í–‰
      if (!window.location.pathname.includes('analysis')) {
        return;
      }
      
      const chartContainer = document.getElementById('tradingview_chart');
      if (!chartContainer) {
        console.warn('ì°¨íŠ¸ ì»¨í…Œì´ë„ˆë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');
        return;
      }

      try {
        // ë¡œë”© í‘œì‹œ ì œê±°
        const loadingElement = document.getElementById('chart-loading');
        if (loadingElement) {
          loadingElement.style.display = 'none';
        }
        
        // ê¸°ì¡´ ìœ„ì ¯ì´ ìˆë‹¤ë©´ ì œê±°
        if (tradingViewWidget) {
          try {
            tradingViewWidget.remove();
          } catch (e) {
            console.warn('ê¸°ì¡´ ìœ„ì ¯ ì œê±° ì¤‘ ì˜¤ë¥˜:', e);
          }
        }
        
        // ì»¨í…Œì´ë„ˆ ì´ˆê¸°í™”
        chartContainer.innerHTML = '';
        
        const isDarkMode = document.documentElement.getAttribute('data-theme') === 'dark';
        currentChartSymbol = symbol;
        
        // ì‹œê°„ í”„ë ˆì„ ì„¤ì • (intervalì´ ì œê³µë˜ë©´ ì‚¬ìš©, ì•„ë‹ˆë©´ í˜„ì¬ ì„¤ì • ì‚¬ìš©)
        const timeframe = interval || currentTimeframe;
        
        tradingViewWidget = new TradingView.widget({
          "autosize": true,
          "symbol": `BINANCE:${symbol}`,
          "interval": timeframe,
          "timezone": "Asia/Seoul",
          "theme": isDarkMode ? "dark" : "light",
          "style": "1",
          "locale": "ko",
          "toolbar_bg": isDarkMode ? "#1e222d" : "#f1f3f6",
          "enable_publishing": false,
          "hide_top_toolbar": true,
          "hide_legend": false,
          "hide_side_toolbar": false,
          "save_image": false,
          "container_id": "tradingview_chart",
          "disabled_features": [
            "use_localstorage_for_settings",
            "volume_force_overlay",
            "create_volume_indicator_by_default"
          ],
          "enabled_features": [
            "study_templates"
          ],
          "loading_screen": {
            "backgroundColor": isDarkMode ? "#1e222d" : "#ffffff",
            "foregroundColor": isDarkMode ? "#ffffff" : "#000000"
          },
          "overrides": {
            "paneProperties.background": isDarkMode ? "#1e222d" : "#ffffff",
            "paneProperties.vertGridProperties.color": isDarkMode ? "#363c4e" : "#e1e3e6",
            "paneProperties.horzGridProperties.color": isDarkMode ? "#363c4e" : "#e1e3e6"
          }
        });
        
      } catch (error) {
        console.error('TradingView ì°¨íŠ¸ ì´ˆê¸°í™” ì‹¤íŒ¨:', error);
        // ë°±ì—… ì°¨íŠ¸ í‘œì‹œ
        chartContainer.innerHTML = `
          <div style="display: flex; align-items: center; justify-content: center; height: 100%; color: var(--text-secondary);">
            <div style="text-align: center;">
              <i class="fas fa-chart-line" style="font-size: 3rem; margin-bottom: 1rem;"></i>
              <div>ì°¨íŠ¸ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</div>
            </div>
          </div>
        `;
      }
    }

    // ë¶„ë´‰ ë³€ê²½ í•¨ìˆ˜
    function changeTimeframe(timeframe) {
      currentTimeframe = timeframe;
      
      // ë“œë¡­ë‹¤ìš´ ê°’ ì—…ë°ì´íŠ¸
      const timeframeSelect = document.getElementById('chart-timeframe');
      if (timeframeSelect) {
        timeframeSelect.value = timeframe;
      }
      
      // í˜„ì¬ ì‹¬ë³¼ë¡œ ì°¨íŠ¸ ì¬ì´ˆê¸°í™”
      const chartSymbol = document.getElementById('chart-symbol');
      const symbol = chartSymbol ? chartSymbol.value : 'BTCUSDT';
      
      // ë¡œë”© í‘œì‹œ
      const chartContainer = document.getElementById('tradingview_chart');
      if (chartContainer) {
        chartContainer.innerHTML = `
          <div style="display: flex; align-items: center; justify-content: center; height: 100%; color: var(--text-secondary);">
            <div style="text-align: center;">
              <div class="loading-spinner" style="width: 40px; height: 40px; border: 3px solid var(--border-color); border-top: 3px solid var(--primary-color); border-radius: 50%; animation: spin 1s linear infinite; margin: 0 auto 1rem;"></div>
              <div>ë¶„ë´‰ ë³€ê²½ ì¤‘...</div>
            </div>
          </div>
        `;
      }
      
      setTimeout(() => {
        initializeTradingViewChart(symbol, timeframe);
      }, 300);
    }

    // ì°¨íŠ¸ ì‹¬ë³¼ ë³€ê²½ í•¨ìˆ˜
    function changeChartSymbol(symbol) {
      // ë¡œë”© í‘œì‹œ
      const chartContainer = document.getElementById('tradingview_chart');
      if (chartContainer) {
        chartContainer.innerHTML = `
          <div style="display: flex; align-items: center; justify-content: center; height: 100%; color: var(--text-secondary);">
            <div style="text-align: center;">
              <div class="loading-spinner" style="width: 40px; height: 40px; border: 3px solid var(--border-color); border-top: 3px solid var(--primary-color); border-radius: 50%; animation: spin 1s linear infinite; margin: 0 auto 1rem;"></div>
              <div>ì°¨íŠ¸ ë³€ê²½ ì¤‘...</div>
            </div>
          </div>
        `;
      }
      
      // ìƒˆë¡œìš´ ì‹¬ë³¼ë¡œ ì°¨íŠ¸ ì¬ì´ˆê¸°í™” (í˜„ì¬ ì‹œê°„ í”„ë ˆì„ ìœ ì§€)
      setTimeout(() => {
        initializeTradingViewChart(symbol, currentTimeframe);
      }, 500);
    }

    // ë‹¤í¬ëª¨ë“œ ì´ˆê¸°í™”
    function initializeDarkMode() {
      const savedTheme = localStorage.getItem('theme') || 'light';
      document.documentElement.setAttribute('data-theme', savedTheme);
      
      const themeToggle = document.querySelector('.theme-toggle');
      if (themeToggle) {
        themeToggle.addEventListener('click', () => {
          const currentTheme = document.documentElement.getAttribute('data-theme');
          const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
          
          document.documentElement.setAttribute('data-theme', newTheme);
          localStorage.setItem('theme', newTheme);
          
          // TradingView ì°¨íŠ¸ í…Œë§ˆ ì¦‰ì‹œ ì—…ë°ì´íŠ¸
          setTimeout(() => {
            if (tradingViewWidget && currentChartSymbol) {
              initializeTradingViewChart(currentChartSymbol, currentTimeframe);
            }
          }, 100);
        });
      }
    }

    // ë‹¤í¬ëª¨ë“œ ì´ˆê¸°í™”
    initializeDarkMode();
    
    // í…Œë§ˆ ë³€ê²½ ê°ì§€ (í—¤ë”ì˜ í…Œë§ˆ í† ê¸€ ë²„íŠ¼ìš©)
    document.addEventListener('themeChanged', () => {
      setTimeout(() => {
        if (tradingViewWidget && currentChartSymbol) {
          initializeTradingViewChart(currentChartSymbol, currentTimeframe);
        }
      }, 100);
    });

    // ëŒ€ì‹œë³´ë“œ ê´€ë¦¬ í´ë˜ìŠ¤
    class Dashboard {
      constructor() {
        this.currentSymbol = 'BTCUSDT';
        this.tvWidget = null;
        this.isChartReady = false;
        this.init();
      }
      
      init() {
        this.bindEvents();
      }
      

      

      
      bindEvents() {
        // ì°¨íŠ¸ ì‹¬ë³¼ ë³€ê²½
        const chartSymbol = document.getElementById('chart-symbol');
        if (chartSymbol) {
          chartSymbol.addEventListener('change', (e) => {
            this.changeSymbol(e.target.value);
          });
        }
      }
      
      changeSymbol(symbol) {
        this.currentSymbol = symbol;
        console.log('ì‹¬ë³¼ ë³€ê²½:', symbol);
        
        // ì „ì—­ ì°¨íŠ¸ ì‹¬ë³¼ ë³€ê²½ í•¨ìˆ˜ í˜¸ì¶œ
        if (typeof changeChartSymbol === 'function') {
          changeChartSymbol(symbol);
        } else {
          console.warn('changeChartSymbol í•¨ìˆ˜ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');
        }
      }
    }

    // ì½”ì¸ í…Œì´ë¸” ê¸°ëŠ¥
    class CryptoTable {
      constructor() {
        this.coins = [];
        this.filteredCoins = [];
        this.currentPage = 1;
        this.itemsPerPage = 50;
        this.sortField = 'rank';
        this.sortDirection = 'asc';
        this.currentCategory = 'all';
        this.searchTerm = '';
        
        this.init();
      }
      
      async init() {
        this.bindEvents();
        await this.loadData();
        this.render();
        
        // 5ë¶„ë§ˆë‹¤ ìë™ ì—…ë°ì´íŠ¸ (ì„œë²„ ìºì‹œì™€ ë™ê¸°í™”)
        setInterval(() => {
          this.loadData();
        }, 300000);
        
        // ğŸš€ ì„±ëŠ¥ ìµœì í™”: ì‚¬ìš©ìê°€ í˜ì´ì§€ë¥¼ ë³´ê³  ìˆì„ ë•Œë§Œ ì—…ë°ì´íŠ¸
        let updateInterval;
        
        const startUpdates = () => {
          updateInterval = setInterval(() => {
            this.loadData();
          }, 600000); // 10ë¶„ìœ¼ë¡œ ì¦ê°€
        };
        
        const stopUpdates = () => {
          if (updateInterval) {
            clearInterval(updateInterval);
          }
        };
        
        // í˜ì´ì§€ ê°€ì‹œì„± ë³€ê²½ ê°ì§€
        document.addEventListener('visibilitychange', () => {
          if (document.hidden) {
            stopUpdates();
          } else {
            startUpdates();
          }
        });
        
        // ì´ˆê¸° ì‹œì‘
        startUpdates();
      }
      
      bindEvents() {
        // íƒ­ ì „í™˜
        document.querySelectorAll('.tab-btn').forEach(btn => {
          btn.addEventListener('click', (e) => {
            document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
            e.target.classList.add('active');
            this.currentCategory = e.target.dataset.category;
            this.currentPage = 1;
            this.filterAndSort();
          });
        });
        
        // ê²€ìƒ‰
        const searchInput = document.getElementById('coin-search');
        if (searchInput) {
        searchInput.addEventListener('input', (e) => {
          this.searchTerm = e.target.value.toLowerCase();
          this.currentPage = 1;
          this.filterAndSort();
        });
        }
        
        // ìƒˆë¡œê³ ì¹¨
        const refreshBtn = document.getElementById('refresh-data');
        if (refreshBtn) {
          refreshBtn.addEventListener('click', () => {
          this.loadData();
        });
        }
        
        // ì •ë ¬
        document.querySelectorAll('.sortable').forEach(th => {
          th.addEventListener('click', () => {
            const field = th.dataset.sort;
            if (this.sortField === field) {
              this.sortDirection = this.sortDirection === 'asc' ? 'desc' : 'asc';
            } else {
              this.sortField = field;
              this.sortDirection = 'asc';
            }
            this.updateSortHeaders();
            this.filterAndSort();
          });
        });
        
        // í˜ì´ì§€ë„¤ì´ì…˜
        const prevBtn = document.getElementById('prev-page');
        const nextBtn = document.getElementById('next-page');
        
        if (prevBtn) {
          prevBtn.addEventListener('click', () => {
          if (this.currentPage > 1) {
            this.currentPage--;
            this.render();
          }
        });
        }
        
        if (nextBtn) {
          nextBtn.addEventListener('click', () => {
          const totalPages = Math.ceil(this.filteredCoins.length / this.itemsPerPage);
          if (this.currentPage < totalPages) {
            this.currentPage++;
            this.render();
          }
        });
        }
      }
      
      async loadData() {
        const refreshBtn = document.getElementById('refresh-data');
        if (refreshBtn) {
        refreshBtn.classList.add('loading');
        }
        
        try {
          console.log('CoinGecko APIì—ì„œ ì§ì ‘ ë°ì´í„° ë¡œë”© ì¤‘...');
          
          // ğŸš€ ì„±ëŠ¥ ìµœì í™”: ì²« í˜ì´ì§€ë§Œ ë¨¼ì € ë¡œë“œ
          const promises = [];
          for (let page = 1; page <= 1; page++) { // ì²« í˜ì´ì§€ë§Œ ë¨¼ì € ë¡œë“œ
            promises.push(
              fetch(`https://api.coingecko.com/api/v3/coins/markets?vs_currency=usd&order=market_cap_desc&per_page=100&page=${page}&sparkline=true&price_change_percentage=1h%2C24h%2C7d`)
                .then(res => {
                  if (!res.ok) {
                    throw new Error(`API ì‘ë‹µ ì˜¤ë¥˜: ${res.status}`);
                  }
                  return res.json();
                })
            );
          }
            
          const results = await Promise.allSettled(promises);
          let allData = [];
          
          for (const result of results) {
            if (result.status === 'fulfilled') {
              allData.push(...result.value);
            }
          }
            
          if (allData.length === 0) {
            throw new Error('ëª¨ë“  API ìš”ì²­ì´ ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤');
          }
          
          // ë°ì´í„° ì²˜ë¦¬
          const processedData = allData.map((coin, index) => ({
            id: coin.id,
            rank: coin.market_cap_rank || index + 1,
            name: coin.name?.replace(/['">\s]+/g, ' ').trim() || '',
            symbol: coin.symbol?.replace(/['">\s]+/g, ' ').trim().toUpperCase() || '',
            image: coin.image,
            price: coin.current_price,
            change1h: coin.price_change_percentage_1h_in_currency || 0,
            change24h: coin.price_change_percentage_24h || 0,
            change7d: coin.price_change_percentage_7d_in_currency || 0,
            volume: coin.total_volume,
            marketCap: coin.market_cap,
            sparkline: coin.sparkline_in_7d ? coin.sparkline_in_7d.price : [],
            lastUpdated: new Date().toISOString()
          }));
            
          // ì‹œê°€ì´ì•¡ ìˆœìœ¼ë¡œ ì •ë ¬
          processedData.sort((a, b) => (b.marketCap || 0) - (a.marketCap || 0));
            
          // ìˆœìœ„ ì¬ì •ë ¬
          processedData.forEach((coin, index) => {
            coin.rank = index + 1;
          });
            
          // ì¶”ê°€ ë°ì´í„° ê³„ì‚°
          const data = processedData.map(coin => ({
            ...coin,
            fundingRate: this.calculateFundingRate(coin),
            openInterest: this.calculateOpenInterest(coin),
            oiChange1h: this.calculateOIChange(coin, '1h'),
            oiChange4h: this.calculateOIChange(coin, '4h'),
            liquidation1h: this.calculateLiquidation(coin, '1h'),
            liquidation24h: this.calculateLiquidation(coin, '24h')
          }));
            
          console.log(`${data.length}ê°œ ì½”ì¸ ë°ì´í„° ì²˜ë¦¬ ì™„ë£Œ`);
          
          // ë°ì´í„° ë§¤í•‘
          this.coins = data.map(coin => ({
            id: coin.id,
            rank: coin.rank,
            name: coin.name,
            symbol: coin.symbol,
            image: coin.image,
            price: coin.price,
            change1h: coin.change1h,
            change24h: coin.change24h,
            fundingRate: coin.fundingRate,
            volume: coin.volume,
            openInterest: coin.openInterest,
            oiChange1h: coin.oiChange1h,
            oiChange4h: coin.oiChange4h,
            marketCap: coin.marketCap,
            liquidation1h: coin.liquidation1h,
            liquidation24h: coin.liquidation24h,
            sparkline: coin.sparkline || []
          }));
          
          this.filterAndSort();
          
          // ğŸš€ ë°±ê·¸ë¼ìš´ë“œì—ì„œ ì¶”ê°€ ë°ì´í„° ë¡œë“œ
          setTimeout(() => {
            this.loadAdditionalData();
          }, 2000);
          
        } catch (error) {
          console.error('ë°ì´í„° ë¡œë”© ì‹¤íŒ¨:', error);
          
          // ì—ëŸ¬ í‘œì‹œ
          const tbody = document.getElementById('crypto-table-body');
          if (tbody) {
            tbody.innerHTML = `
              <tr>
                <td colspan="14" class="loading-row" style="text-align: center; padding: 2rem;">
                  <div style="color: var(--text-secondary);">
                    <i class="fas fa-exclamation-triangle" style="margin-bottom: 0.5rem; font-size: 1.5rem;"></i>
                    <div>ì‹¤ì‹œê°„ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤</div>
                    <div style="font-size: 0.9rem; margin-top: 0.5rem;">
                      CoinGecko API í˜¸ì¶œì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.
                    </div>
                    <button onclick="cryptoTable.loadData()" style="
                      margin-top: 1rem; 
                      padding: 0.5rem 1rem; 
                      border: 1px solid var(--border-strong); 
                      border-radius: 6px; 
                      background: var(--accent-blue); 
                      color: white; 
                      cursor: pointer;
                      font-size: 0.9rem;
                    ">
                      <i class="fas fa-sync-alt"></i> ë‹¤ì‹œ ì‹œë„
                    </button>
                  </div>
                </td>
              </tr>
            `;
          }
        } finally {
          if (refreshBtn) {
          refreshBtn.classList.remove('loading');
          }
        }
      }
      
      // ğŸš€ ë°±ê·¸ë¼ìš´ë“œì—ì„œ ì¶”ê°€ ë°ì´í„° ë¡œë“œ
      async loadAdditionalData() {
        try {
          console.log('ë°±ê·¸ë¼ìš´ë“œì—ì„œ ì¶”ê°€ ë°ì´í„° ë¡œë”© ì¤‘...');
          
          // íƒ€ì„ì•„ì›ƒê³¼ í•¨ê»˜ fetch
          const controller = new AbortController();
          const timeoutId = setTimeout(() => controller.abort(), 10000); // 10ì´ˆ íƒ€ì„ì•„ì›ƒ
          
          const response = await fetch(`https://api.coingecko.com/api/v3/coins/markets?vs_currency=usd&order=market_cap_desc&per_page=100&page=2&sparkline=true&price_change_percentage=1h%2C24h%2C7d`, {
            signal: controller.signal
          });
          
          clearTimeout(timeoutId);
          
          if (!response.ok) {
            throw new Error(`API ì‘ë‹µ ì˜¤ë¥˜: ${response.status}`);
          }
          
          const additionalData = await response.json();
          
          if (!Array.isArray(additionalData) || additionalData.length === 0) {
            throw new Error('ìœ íš¨í•˜ì§€ ì•Šì€ ë°ì´í„° í˜•ì‹');
          }
          
          // ê¸°ì¡´ ë°ì´í„°ì— ì¶”ê°€
          const newCoins = additionalData.map((coin, index) => ({
            id: coin.id,
            rank: this.coins.length + index + 1,
            name: coin.name?.replace(/['">\s]+/g, ' ').trim() || '',
            symbol: coin.symbol?.replace(/['">\s]+/g, ' ').trim().toUpperCase() || '',
            image: coin.image,
            price: coin.current_price,
            change1h: coin.price_change_percentage_1h_in_currency || 0,
            change24h: coin.price_change_percentage_24h || 0,
            fundingRate: this.calculateFundingRate(coin),
            volume: coin.total_volume,
            openInterest: this.calculateOpenInterest(coin),
            oiChange1h: this.calculateOIChange(coin, '1h'),
            oiChange4h: this.calculateOIChange(coin, '4h'),
            marketCap: coin.market_cap,
            liquidation1h: this.calculateLiquidation(coin, '1h'),
            liquidation24h: this.calculateLiquidation(coin, '24h'),
            sparkline: coin.sparkline_in_7d ? coin.sparkline_in_7d.price : []
          }));
          
          this.coins.push(...newCoins);
          this.filterAndSort();
          
          console.log(`âœ… ì¶”ê°€ ${newCoins.length}ê°œ ì½”ì¸ ë°ì´í„° ë¡œë“œ ì™„ë£Œ`);
          
        } catch (error) {
          if (error.name === 'AbortError') {
            console.warn('ì¶”ê°€ ë°ì´í„° ë¡œë”© íƒ€ì„ì•„ì›ƒ');
          } else {
            console.warn('ì¶”ê°€ ë°ì´í„° ë¡œë”© ì‹¤íŒ¨:', error.message);
          }
        }
      }
      
      filterAndSort() {
        let filtered = [...this.coins];
        
               // ì¹´í…Œê³ ë¦¬ í•„í„°ë§
         switch (this.currentCategory) {
           case 'gainers':
             filtered = filtered.filter(coin => coin.change24h > 0);
             break;
           case 'losers':
             filtered = filtered.filter(coin => coin.change24h < 0);
             break;
         }
        
        // ê²€ìƒ‰ í•„í„°ë§
        if (this.searchTerm) {
          filtered = filtered.filter(coin => 
            coin.name.toLowerCase().includes(this.searchTerm) ||
            coin.symbol.toLowerCase().includes(this.searchTerm)
          );
        }
        
        // ì •ë ¬
        filtered.sort((a, b) => {
          let aVal = a[this.sortField];
          let bVal = b[this.sortField];
          
          if (typeof aVal === 'string') {
            aVal = aVal.toLowerCase();
            bVal = bVal.toLowerCase();
          }
          
          if (this.sortDirection === 'asc') {
            return aVal > bVal ? 1 : -1;
          } else {
            return aVal < bVal ? 1 : -1;
          }
        });
        
        this.filteredCoins = filtered;
        this.currentPage = 1;
        this.render();
      }
      
      render() {
        const tbody = document.getElementById('crypto-table-body');
        if (!tbody) return;
        
        const startIndex = (this.currentPage - 1) * this.itemsPerPage;
        const endIndex = startIndex + this.itemsPerPage;
        const pageCoins = this.filteredCoins.slice(startIndex, endIndex);
        
        if (pageCoins.length === 0) {
                     tbody.innerHTML = `
             <tr>
               <td colspan="14" class="loading-row">
                 ${this.coins.length === 0 ? 
                   '<div class="loading-spinner"></div> ë°ì´í„° ë¡œë”© ì¤‘...' : 
                   'ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤.'
                 }
               </td>
             </tr>
           `;
          return;
        }
        
                 tbody.innerHTML = pageCoins.map(coin => {
           const fallbackSvg = this.createFallbackSvg(coin.symbol);
           return `
           <tr data-coin-id="${coin.id}" ${coin.id === 'bitcoin' ? 'style="cursor: pointer;" onclick="window.location.href=\'/currencies/bitcoin/\'"' : ''}>
             <td>${coin.rank}</td>
             <td>
               <div class="coin-info">
                 <img src="${coin.image}" alt="${coin.name}" class="coin-logo" 
                      onerror="this.src='${fallbackSvg}'">
                 <div class="coin-details">
                   <div class="coin-name">${coin.name}</div>
                   <div class="coin-symbol">${coin.symbol}</div>
                 </div>
               </div>
             </td>
             <td class="price">$${this.formatPrice(coin.price)}</td>
             <td><span class="change ${this.getChangeClass(coin.change1h)}">${this.formatPercent(coin.change1h)}</span></td>
             <td><span class="change ${this.getChangeClass(coin.change24h)}">${this.formatPercent(coin.change24h)}</span></td>
             <td><span class="change ${this.getChangeClass(coin.fundingRate)}">${this.formatPercent(coin.fundingRate)}</span></td>
             <td class="volume">$${this.formatNumber(coin.volume)}</td>
             <td class="oi">$${this.formatNumber(coin.openInterest)}</td>
             <td><span class="change ${this.getChangeClass(coin.oiChange1h)}">${this.formatPercent(coin.oiChange1h)}</span></td>
             <td><span class="change ${this.getChangeClass(coin.oiChange4h)}">${this.formatPercent(coin.oiChange4h)}</span></td>
             <td class="market-cap">$${this.formatNumber(coin.marketCap)}</td>
             <td class="liquidation">$${this.formatNumber(coin.liquidation1h)}</td>
             <td class="liquidation">$${this.formatNumber(coin.liquidation24h)}</td>
             <td>
               <canvas class="mini-chart" width="60" height="30" 
                      onclick="window.open('https://www.tradingview.com/chart/?symbol=BINANCE:${coin.symbol}USDT', '_blank')"
                       data-sparkline='${JSON.stringify(coin.sparkline)}'></canvas>
             </td>
           </tr>
           `;
         }).join('');
        
        // ë¯¸ë‹ˆ ì°¨íŠ¸ ê·¸ë¦¬ê¸°
        this.drawMiniCharts();
        
        // í˜ì´ì§€ë„¤ì´ì…˜ ì—…ë°ì´íŠ¸
        this.updatePagination();
      }
      
      drawMiniCharts() {
        document.querySelectorAll('.mini-chart').forEach(canvas => {
          const sparkline = JSON.parse(canvas.dataset.sparkline || '[]');
          if (!sparkline || sparkline.length === 0) return;
          
          const ctx = canvas.getContext('2d');
          const width = canvas.width;
          const height = canvas.height;
          
          ctx.clearRect(0, 0, width, height);
          
          const min = Math.min(...sparkline);
          const max = Math.max(...sparkline);
          const range = max - min;
          
          if (range === 0) return;
          
          ctx.strokeStyle = sparkline[sparkline.length - 1] > sparkline[0] ? '#10b981' : '#ef4444';
          ctx.lineWidth = 1.5;
          ctx.beginPath();
          
          sparkline.forEach((price, index) => {
            const x = (index / (sparkline.length - 1)) * width;
            const y = height - ((price - min) / range) * height;
            
            if (index === 0) {
              ctx.moveTo(x, y);
            } else {
              ctx.lineTo(x, y);
            }
          });
          
          ctx.stroke();
        });
      }
      
      updateSortHeaders() {
        document.querySelectorAll('.sortable').forEach(th => {
          th.classList.remove('sort-asc', 'sort-desc');
          if (th.dataset.sort === this.sortField) {
            th.classList.add(`sort-${this.sortDirection}`);
          }
        });
      }
      
      updatePagination() {
        const totalPages = Math.ceil(this.filteredCoins.length / this.itemsPerPage);
        
        const prevBtn = document.getElementById('prev-page');
        const nextBtn = document.getElementById('next-page');
        const pageInfo = document.getElementById('page-info');
        
        if (prevBtn) prevBtn.disabled = this.currentPage === 1;
        if (nextBtn) nextBtn.disabled = this.currentPage === totalPages || totalPages === 0;
        if (pageInfo) {
          const startItem = (this.currentPage - 1) * this.itemsPerPage + 1;
          const endItem = Math.min(this.currentPage * this.itemsPerPage, this.filteredCoins.length);
          pageInfo.textContent = `${startItem}-${endItem} / ${this.filteredCoins.length} (í˜ì´ì§€ ${this.currentPage}/${totalPages || 1})`;
        }
      }
      
      formatPrice(price) {
        if (price >= 1) {
          return price.toLocaleString('en-US', {
            minimumFractionDigits: 2,
            maximumFractionDigits: 2
          });
        } else {
          return price.toFixed(6);
        }
      }
      
      formatPercent(percent) {
        const sign = percent >= 0 ? '+' : '';
        return `${sign}${percent.toFixed(2)}%`;
      }
      
      formatNumber(num) {
        if (num >= 1e12) {
          return (num / 1e12).toFixed(2) + 'T';
        } else if (num >= 1e9) {
          return (num / 1e9).toFixed(2) + 'B';
        } else if (num >= 1e6) {
          return (num / 1e6).toFixed(2) + 'M';
        } else if (num >= 1e3) {
          return (num / 1e3).toFixed(2) + 'K';
        } else {
          return num.toLocaleString();
        }
      }
      
      getChangeClass(change) {
        if (change > 0) return 'positive';
        if (change < 0) return 'negative';
        return 'neutral';
      }
      
      // í…ìŠ¤íŠ¸ ì •ë¦¬ í•¨ìˆ˜ (B'"> ì˜¤ë¥˜ í•´ê²°)
      cleanText(text) {
        if (!text) return '';
        return text
          .replace(/[A-Z]'">/g, '') // B'"> ê°™ì€ íŒ¨í„´ ì œê±°
          .replace(/['">\s]+/g, ' ') // ë”°ì˜´í‘œ, êº½ì‡ , ê³µë°± ì •ë¦¬
          .trim();
      }
      
      // ë°±ì—… SVG ìƒì„±
      createFallbackSvg(symbol) {
        const firstChar = symbol ? symbol.charAt(0) : '?';
        const svg = `<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32">
          <circle cx="16" cy="16" r="16" fill="#ddd"/>
          <text x="16" y="20" text-anchor="middle" fill="#999" font-size="10">${firstChar}</text>
        </svg>`;
        return 'data:image/svg+xml,' + encodeURIComponent(svg);
      }
      
      // ì¶”ê°€ ë°ì´í„° ê³„ì‚° í•¨ìˆ˜ë“¤
      calculateFundingRate(coin) {
        const volatility = Math.abs(coin.change24h || 0);
        const volumeRatio = Math.min((coin.volume || 0) / (coin.marketCap || 1), 1);
        
        let funding = (Math.sin(coin.rank || 1) * 0.05) + (volatility * 0.01);
        funding *= (1 + volumeRatio * 0.5);
        
        return Math.max(-0.1, Math.min(0.1, funding));
      }
      
      calculateOpenInterest(coin) {
        const baseRatio = 0.08;
        const volumeBoost = Math.min((coin.volume || 0) / (coin.marketCap || 1), 0.5) * 0.1;
        const rankBoost = Math.max(0, (100 - (coin.rank || 100)) / 1000);
        
        return (coin.marketCap || 0) * (baseRatio + volumeBoost + rankBoost);
      }

      calculateOIChange(coin, period) {
        const priceChange = period === '1h' ? 
          (coin.change1h || 0) : 
          (coin.change24h || 0) / 4;
        
        const correlation = -0.3 + (Math.random() * 0.6);
        return priceChange * correlation;
      }
      
      calculateLiquidation(coin, period) {
        const volatility = Math.abs(coin.change24h || 0);
        const volume = coin.volume || 0;
        
        const liquidationRatio = Math.min(volatility * 0.02, 0.1);
        const baseLiquidation = volume * liquidationRatio;
        
        return period === '24h' ? baseLiquidation : baseLiquidation / 24;
      }
      

      
      // TradingView ì—´ê¸°
      openTradingView(symbol) {
        const url = `https://www.tradingview.com/chart/?symbol=BINANCE:${symbol}`;
        window.open(url, '_blank');
      }
    }

    // í˜ì´ì§€ ë¡œë“œ í›„ ì´ˆê¸°í™”
    let dashboard;
    let cryptoTable;
    
    // ëŒ€ì‹œë³´ë“œ ì´ˆê¸°í™” í•¨ìˆ˜
    function initializeDashboard() {
      // ë¶„ë´‰ ë“œë¡­ë‹¤ìš´ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì¶”ê°€
      const timeframeSelect = document.getElementById('chart-timeframe');
      if (timeframeSelect) {
        timeframeSelect.addEventListener('change', function() {
          const timeframe = this.value;
          changeTimeframe(timeframe);
        });
      }
      
      // ì°¨íŠ¸ ì‹¬ë³¼ ë³€ê²½ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ
      const chartSymbol = document.getElementById('chart-symbol');
      if (chartSymbol) {
        chartSymbol.addEventListener('change', function() {
          const symbol = this.value;
          changeChartSymbol(symbol);
        });
      }
      
      // ëŒ€ì‹œë³´ë“œ ì´ˆê¸°í™”
      try {
        dashboard = new Dashboard();
      } catch (error) {
        console.error('Dashboard ì´ˆê¸°í™” ì‹¤íŒ¨:', error);
      }
      
      // ì½”ì¸ í…Œì´ë¸” ì´ˆê¸°í™”
      setTimeout(() => {
        try {
          cryptoTable = new CryptoTable();
        } catch (error) {
          console.error('CryptoTable ì´ˆê¸°í™” ì‹¤íŒ¨:', error);
        }
      }, 1000);
    }
    
    // Firebase ì´ˆê¸°í™” ì™„ë£Œ í›„ ëŒ€ì‹œë³´ë“œ ì´ˆê¸°í™”
    document.addEventListener('DOMContentLoaded', function() {
      // Firebaseê°€ ì´ë¯¸ ì´ˆê¸°í™”ë˜ì—ˆëŠ”ì§€ í™•ì¸
      if (window.firebaseInitialized && window.firebaseDB) {
        initializeDashboard();
      } else {
        // Firebase ì´ˆê¸°í™”ë¥¼ ê¸°ë‹¤ë¦¼
        const checkFirebase = setInterval(() => {
          if (window.firebaseInitialized && window.firebaseDB) {
            clearInterval(checkFirebase);
            initializeDashboard();
          }
        }, 100);
        
        // Firebase ì´ˆê¸°í™” ì™„ë£Œ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ
        window.addEventListener('firebaseInitialized', function() {
          clearInterval(checkFirebase);
          initializeDashboard();
        });
        
        // 10ì´ˆ í›„ íƒ€ì„ì•„ì›ƒ
        setTimeout(() => {
          clearInterval(checkFirebase);
          console.warn('Firebase ì´ˆê¸°í™” íƒ€ì„ì•„ì›ƒ');
          initializeDashboard(); // Firebase ì—†ì´ë„ ë‹¤ë¥¸ ê¸°ëŠ¥ë“¤ì€ ì´ˆê¸°í™”
        }, 10000);
      }
    });
    
    // ë³µë¦¬ ê³„ì‚°ê¸° ì´ˆê¸°í™”
    document.addEventListener('DOMContentLoaded', function() {
      // ë³µë¦¬ ê³„ì‚°ê¸° ì´ˆê¸°í™” (ê³„ì‚°ê¸° í˜ì´ì§€ì—ì„œë§Œ)
      if (typeof window.CompoundCalculator !== 'undefined') {
        window.compoundCalculator = new window.CompoundCalculator();
        console.log('ğŸ’° ë³µë¦¬ ê³„ì‚°ê¸° ì´ˆê¸°í™” ì™„ë£Œ');
      }
    });

  </script>

</body>
</html>