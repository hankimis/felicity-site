.chat-page { display:flex; height: calc(100dvh - var(--header-height, 60px)); }
.channels-sidebar { width:280px; border-right:1px solid var(--border-color); background: var(--bg-color); display:flex; flex-direction:column; }
.channels-header { display:flex; align-items:center; justify-content:space-between; padding:10px 12px; border-bottom:1px solid var(--border-color); background: var(--bg-primary); }
.channels-list { list-style:none; margin:0; padding:0; overflow-y:auto; }
.channels-list li { display:flex; align-items:center; gap:10px; padding:12px; border-bottom:1px solid var(--border-color); cursor:pointer; }
.channels-list li.active { background: color-mix(in srgb, var(--primary-color) 8%, transparent); }
.channel-icon { width:36px; height:36px; border-radius:50%; background:#0a62ff; display:flex; align-items:center; justify-content:center; overflow:hidden; }
.channel-icon img { width:100%; height:100%; object-fit:cover; }
.channel-meta { display:flex; flex-direction:column; min-width:0; }
.channel-title { font-weight:800; color:var(--text-color); display:flex; align-items:center; gap:6px; }
.last-message { display:flex; align-items:center; gap:8px; color:var(--text-color-secondary); font-size:12px; margin-top:4px; min-width:0; }
.last-message .avatar { width:16px; height:16px; border-radius:50%; object-fit:cover; }
.last-message .nick { color:var(--text-color); font-weight:600; margin-right:6px; }
.last-message .preview { overflow:hidden; text-overflow:ellipsis; white-space:nowrap; min-width:0; }
.chat-pane { flex:1; display:flex; flex-direction:column; }
.chat-pane-header { display:flex; align-items:center; justify-content:space-between; padding:10px 12px; border-bottom:1px solid var(--border-color); background: var(--bg-primary); }
.chat-wrapper { flex:1; display:flex; flex-direction:column; }
@media (max-width: 768px){
  .chat-page { flex-direction:column; height: 100dvh; }
  /* 모바일에서는 채팅 패널만 표시 */
  .channels-sidebar { display: none !important; }
  .chat-pane { width: 100%; height: 100%; display:flex; flex-direction:column; }
  /* 모바일 주소창 높이 변화 대응 */
  html, body { height: 100%; }
  .chat-page { height: calc(100svh - var(--header-height, 60px)); }
  .chat-wrapper { flex:1; min-height:0; display:flex; flex-direction:column; }
  #chat-messages { flex:1; min-height:0; overflow-y:auto; -webkit-overflow-scrolling: touch; padding-bottom: calc(env(safe-area-inset-bottom) + var(--chat-form-height, 56px)); }
  .chat-input-form { position: sticky; bottom: 0; z-index: 5; background: var(--bg-color); border-top: 1px solid var(--border-color); padding-bottom: max(12px, env(safe-area-inset-bottom)); }
}


