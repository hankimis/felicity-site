---
description:
globs:
alwaysApply: false
---
# Felicity UI/UX Design Guidelines

## ğŸ¨ DESIGN SYSTEM FOUNDATIONS

### Color Palette (STRICTLY ENFORCED)
```css
/* PRIMARY COLORS - Never modify these values */
--primary-color: #3182f6;        /* Brand Blue - MANDATORY for all CTAs */
--positive-color: #059669;       /* Success/Profit Green */
--negative-color: #dc2626;       /* Error/Loss Red */
--warning-color: #f59e0b;        /* Warning Orange */

/* SEMANTIC COLORS - Financial Context */
--positive-bg: #d1fae5;          /* Profit background */
--positive-text: #059669;        /* Profit text */
--negative-bg: #fee2e2;          /* Loss background */
--negative-text: #dc2626;        /* Loss text */
```

### Typography Hierarchy (NON-NEGOTIABLE)
```css
/* FONT FAMILY - Pretendard is MANDATORY */
font-family: 'Pretendard', sans-serif;

/* FONT SCALE - Use these exact sizes */
--font-size-xs: 0.75rem;    /* 12px - Metadata, timestamps */
--font-size-sm: 0.875rem;   /* 14px - Secondary text */
--font-size-base: 1rem;     /* 16px - Body text */
--font-size-lg: 1.125rem;   /* 18px - Subheadings */
--font-size-xl: 1.25rem;    /* 20px - Card titles */
--font-size-2xl: 1.5rem;    /* 24px - Section headers */
--font-size-3xl: 1.875rem;  /* 30px - Page titles */
```

### Spacing System (MANDATORY GRID)
```css
/* 4px BASE UNIT - All spacing must be multiples of 4px */
--spacing-xs: 0.25rem;   /* 4px */
--spacing-sm: 0.5rem;    /* 8px */
--spacing-md: 0.75rem;   /* 12px */
--spacing-lg: 1rem;      /* 16px */
--spacing-xl: 1.5rem;    /* 24px */
--spacing-2xl: 2rem;     /* 32px */
--spacing-3xl: 3rem;     /* 48px */
```

## ğŸ§© COMPONENT DESIGN PATTERNS

### Card Components (REQUIRED STRUCTURE)
```html
<!-- âœ… CORRECT - Standard Card Pattern -->
<article class="analysis-card">
  <header class="card-header">
    <h2 class="card-title">ê³ ë˜ ì¶”ì </h2>
    <button class="card-refresh-btn" aria-label="ìƒˆë¡œê³ ì¹¨">
      <i class="fas fa-sync-alt"></i>
    </button>
  </header>
  
  <div class="card-content">
    <div class="card-data">
      <!-- Main content -->
    </div>
  </div>
  
  <footer class="card-footer">
    <span class="card-timestamp">ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸: 2ë¶„ ì „</span>
  </footer>
</article>

<!-- âŒ FORBIDDEN - Inconsistent structure -->
<div class="card">
  <div class="title">ê³ ë˜ ì¶”ì </div>
  <div class="data">...</div>
</div>
```

### Button Hierarchy (CRITICAL CONSISTENCY)
```html
<!-- âœ… PRIMARY ACTIONS - Use sparingly, max 1 per section -->
<button class="btn btn-primary">ê±°ë˜ ì‹œì‘</button>

<!-- âœ… SECONDARY ACTIONS - Most common button type -->
<button class="btn btn-secondary">ìì„¸íˆ ë³´ê¸°</button>

<!-- âœ… GHOST BUTTONS - For less important actions -->
<button class="btn btn-ghost">ì·¨ì†Œ</button>

<!-- âœ… ICON BUTTONS - For compact interfaces -->
<button class="btn-icon" aria-label="ìƒˆë¡œê³ ì¹¨">
  <i class="fas fa-sync-alt"></i>
</button>

<!-- âŒ FORBIDDEN - Custom button styles -->
<button style="background: red;">ë²„íŠ¼</button>
<div class="custom-button">ë²„íŠ¼</div>
```

### Form Components (ACCESSIBILITY REQUIRED)
```html
<!-- âœ… CORRECT - Accessible form structure -->
<div class="form-group">
  <label for="whale-threshold" class="form-label">
    ê³ ë˜ ê±°ë˜ ì„ê³„ê°’ (BTC)
    <span class="form-help">50 BTC ì´ìƒì˜ ê±°ë˜ë¥¼ ì¶”ì í•©ë‹ˆë‹¤</span>
  </label>
  <input 
    type="number" 
    id="whale-threshold" 
    class="form-control"
    min="1" 
    max="1000"
    value="50"
    aria-describedby="whale-threshold-help"
  />
  <div id="whale-threshold-help" class="form-feedback">
    1-1000 ì‚¬ì´ì˜ ê°’ì„ ì…ë ¥í•˜ì„¸ìš”
  </div>
</div>

<!-- âŒ FORBIDDEN - No accessibility -->
<input type="text" placeholder="ê°’ ì…ë ¥">
```

## ğŸ“± RESPONSIVE DESIGN RULES

### Breakpoint Strategy (MOBILE-FIRST MANDATORY)
```css
/* âœ… CORRECT - Mobile First Approach */
.analysis-grid {
  display: grid;
  grid-template-columns: 1fr;        /* Mobile: Single column */
  gap: var(--spacing-lg);
}

@media (min-width: 769px) {
  .analysis-grid {
    grid-template-columns: 1fr 1fr;   /* Tablet: Two columns */
  }
}

@media (min-width: 1025px) {
  .analysis-grid {
    grid-template-columns: 2fr 1fr;   /* Desktop: Sidebar layout */
  }
}

/* âŒ FORBIDDEN - Desktop First */
.analysis-grid {
  grid-template-columns: 2fr 1fr;     /* Don't start with desktop */
}
```

### Touch Target Requirements (ACCESSIBILITY CRITICAL)
```css
/* âœ… MINIMUM 44px touch targets for mobile */
@media (max-width: 768px) {
  .btn, .btn-icon, .form-control {
    min-height: 44px;
    min-width: 44px;
  }
  
  /* âœ… Prevent iOS zoom on form inputs */
  input, textarea, select {
    font-size: 16px;
  }
}

/* âŒ FORBIDDEN - Small touch targets */
.mobile-btn {
  height: 32px;    /* Too small for touch */
  width: 32px;
}
```

## ğŸ¯ USER EXPERIENCE PATTERNS

### Loading States (MANDATORY IMPLEMENTATION)
```html
<!-- âœ… SKELETON LOADING - For data cards -->
<div class="card loading" aria-label="ë°ì´í„° ë¡œë”© ì¤‘">
  <div class="skeleton-header">
    <div class="skeleton-title"></div>
    <div class="skeleton-icon"></div>
  </div>
  <div class="skeleton-content">
    <div class="skeleton-line"></div>
    <div class="skeleton-line short"></div>
  </div>
</div>

<!-- âœ… SPINNER LOADING - For actions -->
<button class="btn btn-primary loading" disabled>
  <span class="spinner" aria-hidden="true"></span>
  ì²˜ë¦¬ ì¤‘...
</button>

<!-- âŒ FORBIDDEN - No loading feedback -->
<button class="btn" onclick="longOperation()">ì²˜ë¦¬</button>
```

### Error States (REQUIRED UX PATTERN)
```html
<!-- âœ… INLINE ERROR - Form validation -->
<div class="form-group error">
  <label for="amount">ê±°ë˜ ê¸ˆì•¡</label>
  <input type="number" id="amount" class="form-control error" />
  <div class="form-error">
    <i class="fas fa-exclamation-triangle"></i>
    ì˜¬ë°”ë¥¸ ê¸ˆì•¡ì„ ì…ë ¥í•˜ì„¸ìš”
  </div>
</div>

<!-- âœ… CARD ERROR STATE - Data loading failure -->
<div class="card error-state">
  <div class="error-content">
    <i class="fas fa-exclamation-circle error-icon"></i>
    <h3>ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤</h3>
    <p>ë„¤íŠ¸ì›Œí¬ ì—°ê²°ì„ í™•ì¸í•˜ê³  ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”</p>
    <button class="btn btn-secondary retry-btn">ë‹¤ì‹œ ì‹œë„</button>
  </div>
</div>

<!-- âŒ FORBIDDEN - Silent failures -->
<div class="card">
  <!-- Empty card with no error indication -->
</div>
```

### Toast Notifications (STANDARDIZED MESSAGING)
```javascript
// âœ… CORRECT - Consistent toast implementation
this.showToast('ê±°ë˜ê°€ ì„±ê³µì ìœ¼ë¡œ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤', 'success');
this.showToast('ë„¤íŠ¸ì›Œí¬ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤', 'error');
this.showToast('ë°ì´í„°ë¥¼ ì—…ë°ì´íŠ¸í•˜ëŠ” ì¤‘ì…ë‹ˆë‹¤', 'info');
this.showToast('ì£¼ì˜: ë†’ì€ ë³€ë™ì„±ì´ ê°ì§€ë˜ì—ˆìŠµë‹ˆë‹¤', 'warning');

// âŒ FORBIDDEN - Inconsistent messaging
alert('ì™„ë£Œ');
console.log('Error occurred');
```

## ğŸŒ™ THEME SYSTEM RULES

### Dark/Light Mode Implementation (CRITICAL)
```css
/* âœ… CORRECT - CSS Custom Properties */
:root {
  --bg-primary: #ffffff;
  --text-primary: #1f2937;
  --card-bg: #ffffff;
}

:root.dark-mode {
  --bg-primary: #1a1a1a;
  --text-primary: #ffffff;
  --card-bg: #2a2a2a;
}

/* âœ… Use variables consistently */
.card {
  background: var(--card-bg);
  color: var(--text-primary);
}

/* âŒ FORBIDDEN - Hardcoded colors */
.card {
  background: #ffffff;  /* Won't work in dark mode */
  color: #000000;
}
```

### Theme Switching UX (MANDATORY BEHAVIOR)
```javascript
// âœ… CORRECT - Smooth theme transition
function toggleTheme() {
  const newTheme = currentTheme === 'light' ? 'dark' : 'light';
  
  // Apply transition class
  document.body.classList.add('theme-transitioning');
  
  // Update theme
  document.documentElement.setAttribute('data-theme', newTheme);
  localStorage.setItem('theme', newTheme);
  
  // Update all theme-dependent components
  updateChartTheme(newTheme);
  updateLogos(newTheme);
  
  // Remove transition class after animation
  setTimeout(() => {
    document.body.classList.remove('theme-transitioning');
  }, 300);
}

// âŒ FORBIDDEN - Jarring theme switch
function badToggleTheme() {
  document.body.className = 'dark-mode'; // Instant, jarring change
}
```

## ğŸ“Š DATA VISUALIZATION STANDARDS

### Chart Component Requirements (FINANCIAL DATA)
```javascript
// âœ… CORRECT - Consistent chart configuration
const chartConfig = {
  responsive: true,
  maintainAspectRatio: false,
  plugins: {
    legend: {
      position: 'top',
      labels: {
        usePointStyle: true,
        font: { family: 'Pretendard' }
      }
    },
    tooltip: {
      backgroundColor: 'var(--card-bg)',
      titleColor: 'var(--text-primary)',
      bodyColor: 'var(--text-secondary)',
      borderColor: 'var(--border-color)',
      borderWidth: 1
    }
  },
  scales: {
    y: {
      beginAtZero: false,
      grid: { color: 'var(--border-light)' },
      ticks: { color: 'var(--text-secondary)' }
    }
  }
};

// âŒ FORBIDDEN - Inconsistent chart styling
const badChartConfig = {
  plugins: {
    legend: { display: false },  // No legend
    tooltip: { enabled: false }  // No tooltips
  }
};
```

### Financial Data Formatting (STANDARDIZED)
```javascript
// âœ… CORRECT - Consistent number formatting
const formatCurrency = (amount, currency = 'USD') => {
  return new Intl.NumberFormat('ko-KR', {
    style: 'currency',
    currency: currency,
    minimumFractionDigits: 2,
    maximumFractionDigits: 8
  }).format(amount);
};

const formatPercentage = (value) => {
  const formatted = (value * 100).toFixed(2);
  const className = value >= 0 ? 'positive' : 'negative';
  return `<span class="${className}">${formatted}%</span>`;
};

// âŒ FORBIDDEN - Inconsistent formatting
const badFormat = (amount) => amount.toString(); // No formatting
```

## ğŸ” ACCESSIBILITY REQUIREMENTS (WCAG 2.1 AA)

### Mandatory Accessibility Features
```html
<!-- âœ… CORRECT - Semantic HTML with ARIA -->
<main role="main" aria-label="ì‹¤ì‹œê°„ ë¶„ì„ ëŒ€ì‹œë³´ë“œ">
  <section aria-labelledby="whale-tracker-title">
    <h2 id="whale-tracker-title">ê³ ë˜ ì¶”ì </h2>
    
    <table role="table" aria-label="ê³ ë˜ ê±°ë˜ ë‚´ì—­">
      <thead>
        <tr>
          <th scope="col">ì‹œê°„</th>
          <th scope="col">ê¸ˆì•¡</th>
          <th scope="col">ë°©í–¥</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>14:23:15</td>
          <td>
            <span class="positive" aria-label="ìƒìŠ¹">+125.5 BTC</span>
          </td>
          <td>ë§¤ìˆ˜</td>
        </tr>
      </tbody>
    </table>
  </section>
</main>

<!-- âŒ FORBIDDEN - No semantic structure -->
<div class="main">
  <div class="section">
    <div class="title">ê³ ë˜ ì¶”ì </div>
    <div class="data">...</div>
  </div>
</div>
```

### Keyboard Navigation (MANDATORY)
```css
/* âœ… CORRECT - Visible focus indicators */
.btn:focus,
.form-control:focus,
.card:focus {
  outline: 2px solid var(--primary-color);
  outline-offset: 2px;
}

/* âœ… Skip links for keyboard users */
.skip-link {
  position: absolute;
  top: -40px;
  left: 6px;
  background: var(--primary-color);
  color: white;
  padding: 8px;
  text-decoration: none;
  border-radius: 4px;
}

.skip-link:focus {
  top: 6px;
}

/* âŒ FORBIDDEN - Removing focus indicators */
button:focus { outline: none; }  /* Never do this */
```

## ğŸš€ PERFORMANCE UX GUIDELINES

### Progressive Enhancement (REQUIRED APPROACH)
```html
<!-- âœ… CORRECT - Works without JavaScript -->
<form action="/api/settings" method="POST" class="settings-form">
  <input type="number" name="whale-threshold" value="50" required />
  <button type="submit">ì €ì¥</button>
</form>

<script>
  // Enhanced with JavaScript
  document.querySelector('.settings-form').addEventListener('submit', async (e) => {
    e.preventDefault();
    await saveSettingsAjax(new FormData(e.target));
  });
</script>

<!-- âŒ FORBIDDEN - JavaScript-dependent -->
<div class="settings-form">
  <input type="number" id="threshold" />
  <button onclick="saveSettings()">ì €ì¥</button>
</div>
```

### Image Optimization (MANDATORY)
```html
<!-- âœ… CORRECT - Responsive images with fallbacks -->
<picture>
  <source 
    srcset="assets/chart-dark.webp" 
    media="(prefers-color-scheme: dark)" 
    type="image/webp"
  />
  <source 
    srcset="assets/chart-light.webp" 
    media="(prefers-color-scheme: light)" 
    type="image/webp"
  />
  <img 
    src="assets/chart-light.jpg" 
    alt="ë¹„íŠ¸ì½”ì¸ ê°€ê²© ì°¨íŠ¸" 
    loading="lazy"
    width="800" 
    height="400"
  />
</picture>

<!-- âŒ FORBIDDEN - Unoptimized images -->
<img src="large-image.png" />
```

These UI/UX guidelines ensure a consistent, accessible, and performant user experience across the Felicity cryptocurrency analysis platform. **COMPLIANCE WITH THESE STANDARDS IS MANDATORY FOR ALL INTERFACE DEVELOPMENT.**
