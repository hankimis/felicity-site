<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>작성하기 - ONBIT</title>
  <link rel="stylesheet" href="../css/base/_variables.css" />
  <link rel="stylesheet" href="../css/base/_reset.css" />
  <link rel="stylesheet" href="../css/base/_base.css" />
  <link rel="stylesheet" href="feed.css" />
  <link rel="stylesheet" href="../components/header/navbar.css" />
  <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.min.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-storage-compat.js"></script>
  <script src="../auth.js" defer></script>
  <script src="write.js" defer></script>
  <script src="../components/header/header-loader.js" defer></script>
  <script src="sidebar.js" defer></script>
</head>
<body class="write-page">
  <div id="header-placeholder"></div>
  <div id="feed-sidebar"></div>
  <main class="feed-container single-column" style="gap:0; max-width:680px;">
    <section class="feed-main" style="width:100%;">
      <header class="write-header" style="display:flex;align-items:center;position:relative;padding:12px 4px;">
        <button type="button" id="btn-cancel" class="btn" style="background:transparent;border:none;color:var(--text-color);font-weight:600">취소</button>
        <div style="font-weight:700; position:absolute; left:50%; transform:translateX(-50%);">새로운 스레드</div>
      </header>

      <form id="write-form" class="composer" autocomplete="off" style="display:grid;grid-template-columns:48px 1fr;column-gap:12px;">
        <div class="avatar" id="composer-avatar" style="width:36px;height:36px;border-radius:999px;background:#e5e7eb;border:1px solid var(--border-color);"></div>
        <div>
          <div class="meta" style="display:flex;align-items:center;gap:8px;margin-bottom:8px;color:var(--text-color-secondary);position:relative;">
            <b id="composer-username" style="color:var(--text-color)">작성자</b>
          </div>

          <div class="composer-text">
          <textarea id="post-text" maxlength="2000" placeholder="욕설, 비방 등 상대방을 불쾌하게 하는 게시물은 올리지 말아 주세요." style="min-height:240px;"></textarea>
          </div>
          
          <div id="media-previews" class="media" style="margin-top:8px;"></div>

          <div class="composer-actions" style="display:flex;justify-content:space-between;align-items:center;margin-top:8px;">
            <div class="icons" style="display:flex;gap:12px;color:#9aa1aa;">
              <button type="button" id="action-attach" title="이미지 추가" style="background:none;border:none;cursor:pointer;padding:6px;border-radius:8px;">
                <i data-lucide="image"></i>
              </button>
              <input id="post-media" type="file" accept="image/*,video/*" multiple style="display:none;" />
            </div>
            <div style="display:flex;gap:8px;align-items:center"><button type="submit" id="btn-submit" class="btn primary" style="border-radius:999px;padding:8px 14px;">게시</button></div>
          </div>
        </div>
      </form>
    </section>
  </main>
  <script>
    (function(){ if (location.hostname==='localhost' || location.hostname==='127.0.0.1') { /* no-op */ } })();
  </script>
</body>
</html>

